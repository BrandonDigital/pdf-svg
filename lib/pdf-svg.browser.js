var PDFSvg=(()=>{var Pt=Object.defineProperty;var fn=Object.getOwnPropertyDescriptor;var _n=Object.getOwnPropertyNames,De=Object.getOwnPropertySymbols;var Ie=Object.prototype.hasOwnProperty,dn=Object.prototype.propertyIsEnumerable;var Le=(e,i,t)=>i in e?Pt(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,Ut=(e,i)=>{for(var t in i||(i={}))Ie.call(i,t)&&Le(e,t,i[t]);if(De)for(var t of De(i))dn.call(i,t)&&Le(e,t,i[t]);return e};var un=(e,i)=>{for(var t in i)Pt(e,t,{get:i[t],enumerable:!0})},pn=(e,i,t,n)=>{if(i&&typeof i=="object"||typeof i=="function")for(let a of _n(i))!Ie.call(e,a)&&a!==t&&Pt(e,a,{get:()=>i[a],enumerable:!(n=fn(i,a))||n.enumerable});return e};var bn=e=>pn(Pt({},"__esModule",{value:!0}),e);var _o={};un(_o,{ColorSpace:()=>xt,PDFDocument:()=>ie,SVGParser:()=>gt,SVGPath:()=>wt,SVGtoPDF:()=>ee});function pt(e){let i=e.length;for(;--i>=0;)e[i]=0}var mn=0,vi=1,gn=2,wn=3,xn=258,Te=29,Lt=256,Mt=Lt+1+Te,_t=30,Ee=19,yi=2*Mt+1,tt=15,ne=16,kn=7,Me=256,Ci=16,Si=17,Ti=18,me=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Kt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),vn=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Ei=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yn=512,K=new Array((Mt+2)*2);pt(K);var St=new Array(_t*2);pt(St);var zt=new Array(yn);pt(zt);var At=new Array(xn-wn+1);pt(At);var ze=new Array(Te);pt(ze);var Gt=new Array(_t);pt(Gt);function ae(e,i,t,n,a){this.static_tree=e,this.extra_bits=i,this.extra_base=t,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}var Mi,zi,Ai;function re(e,i){this.dyn_tree=e,this.max_code=0,this.stat_desc=i}var Ni=e=>e<256?zt[e]:zt[256+(e>>>7)],Nt=(e,i)=>{e.pending_buf[e.pending++]=i&255,e.pending_buf[e.pending++]=i>>>8&255},O=(e,i,t)=>{e.bi_valid>ne-t?(e.bi_buf|=i<<e.bi_valid&65535,Nt(e,e.bi_buf),e.bi_buf=i>>ne-e.bi_valid,e.bi_valid+=t-ne):(e.bi_buf|=i<<e.bi_valid&65535,e.bi_valid+=t)},U=(e,i,t)=>{O(e,t[i*2],t[i*2+1])},Ri=(e,i)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--i>0);return t>>>1},Cn=e=>{e.bi_valid===16?(Nt(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},Sn=(e,i)=>{let t=i.dyn_tree,n=i.max_code,a=i.stat_desc.static_tree,r=i.stat_desc.has_stree,o=i.stat_desc.extra_bits,s=i.stat_desc.extra_base,f=i.stat_desc.max_length,l,h,p,_,c,u,w=0;for(_=0;_<=tt;_++)e.bl_count[_]=0;for(t[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<yi;l++)h=e.heap[l],_=t[t[h*2+1]*2+1]+1,_>f&&(_=f,w++),t[h*2+1]=_,!(h>n)&&(e.bl_count[_]++,c=0,h>=s&&(c=o[h-s]),u=t[h*2],e.opt_len+=u*(_+c),r&&(e.static_len+=u*(a[h*2+1]+c)));if(w!==0){do{for(_=f-1;e.bl_count[_]===0;)_--;e.bl_count[_]--,e.bl_count[_+1]+=2,e.bl_count[f]--,w-=2}while(w>0);for(_=f;_!==0;_--)for(h=e.bl_count[_];h!==0;)p=e.heap[--l],!(p>n)&&(t[p*2+1]!==_&&(e.opt_len+=(_-t[p*2+1])*t[p*2],t[p*2+1]=_),h--)}},$i=(e,i,t)=>{let n=new Array(tt+1),a=0,r,o;for(r=1;r<=tt;r++)a=a+t[r-1]<<1,n[r]=a;for(o=0;o<=i;o++){let s=e[o*2+1];s!==0&&(e[o*2]=Ri(n[s]++,s))}},Tn=()=>{let e,i,t,n,a,r=new Array(tt+1);for(t=0,n=0;n<Te-1;n++)for(ze[n]=t,e=0;e<1<<me[n];e++)At[t++]=n;for(At[t-1]=n,a=0,n=0;n<16;n++)for(Gt[n]=a,e=0;e<1<<Kt[n];e++)zt[a++]=n;for(a>>=7;n<_t;n++)for(Gt[n]=a<<7,e=0;e<1<<Kt[n]-7;e++)zt[256+a++]=n;for(i=0;i<=tt;i++)r[i]=0;for(e=0;e<=143;)K[e*2+1]=8,e++,r[8]++;for(;e<=255;)K[e*2+1]=9,e++,r[9]++;for(;e<=279;)K[e*2+1]=7,e++,r[7]++;for(;e<=287;)K[e*2+1]=8,e++,r[8]++;for($i(K,Mt+1,r),e=0;e<_t;e++)St[e*2+1]=5,St[e*2]=Ri(e,5);Mi=new ae(K,me,Lt+1,Mt,tt),zi=new ae(St,Kt,0,_t,tt),Ai=new ae(new Array(0),vn,0,Ee,kn)},Oi=e=>{let i;for(i=0;i<Mt;i++)e.dyn_ltree[i*2]=0;for(i=0;i<_t;i++)e.dyn_dtree[i*2]=0;for(i=0;i<Ee;i++)e.bl_tree[i*2]=0;e.dyn_ltree[Me*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Di=e=>{e.bi_valid>8?Nt(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Ze=(e,i,t,n)=>{let a=i*2,r=t*2;return e[a]<e[r]||e[a]===e[r]&&n[i]<=n[t]},oe=(e,i,t)=>{let n=e.heap[t],a=t<<1;for(;a<=e.heap_len&&(a<e.heap_len&&Ze(i,e.heap[a+1],e.heap[a],e.depth)&&a++,!Ze(i,n,e.heap[a],e.depth));)e.heap[t]=e.heap[a],t=a,a<<=1;e.heap[t]=n},Fe=(e,i,t)=>{let n,a,r=0,o,s;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+r++]&255,n+=(e.pending_buf[e.sym_buf+r++]&255)<<8,a=e.pending_buf[e.sym_buf+r++],n===0?U(e,a,i):(o=At[a],U(e,o+Lt+1,i),s=me[o],s!==0&&(a-=ze[o],O(e,a,s)),n--,o=Ni(n),U(e,o,t),s=Kt[o],s!==0&&(n-=Gt[o],O(e,n,s)));while(r<e.sym_next);U(e,Me,i)},ge=(e,i)=>{let t=i.dyn_tree,n=i.stat_desc.static_tree,a=i.stat_desc.has_stree,r=i.stat_desc.elems,o,s,f=-1,l;for(e.heap_len=0,e.heap_max=yi,o=0;o<r;o++)t[o*2]!==0?(e.heap[++e.heap_len]=f=o,e.depth[o]=0):t[o*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=f<2?++f:0,t[l*2]=1,e.depth[l]=0,e.opt_len--,a&&(e.static_len-=n[l*2+1]);for(i.max_code=f,o=e.heap_len>>1;o>=1;o--)oe(e,t,o);l=r;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],oe(e,t,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,t[l*2]=t[o*2]+t[s*2],e.depth[l]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,t[o*2+1]=t[s*2+1]=l,e.heap[1]=l++,oe(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Sn(e,i),$i(t,f,e.bl_count)},Pe=(e,i,t)=>{let n,a=-1,r,o=i[0*2+1],s=0,f=7,l=4;for(o===0&&(f=138,l=3),i[(t+1)*2+1]=65535,n=0;n<=t;n++)r=o,o=i[(n+1)*2+1],!(++s<f&&r===o)&&(s<l?e.bl_tree[r*2]+=s:r!==0?(r!==a&&e.bl_tree[r*2]++,e.bl_tree[Ci*2]++):s<=10?e.bl_tree[Si*2]++:e.bl_tree[Ti*2]++,s=0,a=r,o===0?(f=138,l=3):r===o?(f=6,l=3):(f=7,l=4))},Ue=(e,i,t)=>{let n,a=-1,r,o=i[0*2+1],s=0,f=7,l=4;for(o===0&&(f=138,l=3),n=0;n<=t;n++)if(r=o,o=i[(n+1)*2+1],!(++s<f&&r===o)){if(s<l)do U(e,r,e.bl_tree);while(--s!==0);else r!==0?(r!==a&&(U(e,r,e.bl_tree),s--),U(e,Ci,e.bl_tree),O(e,s-3,2)):s<=10?(U(e,Si,e.bl_tree),O(e,s-3,3)):(U(e,Ti,e.bl_tree),O(e,s-11,7));s=0,a=r,o===0?(f=138,l=3):r===o?(f=6,l=3):(f=7,l=4)}},En=e=>{let i;for(Pe(e,e.dyn_ltree,e.l_desc.max_code),Pe(e,e.dyn_dtree,e.d_desc.max_code),ge(e,e.bl_desc),i=Ee-1;i>=3&&e.bl_tree[Ei[i]*2+1]===0;i--);return e.opt_len+=3*(i+1)+5+5+4,i},Mn=(e,i,t,n)=>{let a;for(O(e,i-257,5),O(e,t-1,5),O(e,n-4,4),a=0;a<n;a++)O(e,e.bl_tree[Ei[a]*2+1],3);Ue(e,e.dyn_ltree,i-1),Ue(e,e.dyn_dtree,t-1)},zn=e=>{let i=4093624447,t;for(t=0;t<=31;t++,i>>>=1)if(i&1&&e.dyn_ltree[t*2]!==0)return 0;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return 1;for(t=32;t<Lt;t++)if(e.dyn_ltree[t*2]!==0)return 1;return 0},je=!1,An=e=>{je||(Tn(),je=!0),e.l_desc=new re(e.dyn_ltree,Mi),e.d_desc=new re(e.dyn_dtree,zi),e.bl_desc=new re(e.bl_tree,Ai),e.bi_buf=0,e.bi_valid=0,Oi(e)},Li=(e,i,t,n)=>{O(e,(mn<<1)+(n?1:0),3),Di(e),Nt(e,t),Nt(e,~t),t&&e.pending_buf.set(e.window.subarray(i,i+t),e.pending),e.pending+=t},Nn=e=>{O(e,vi<<1,3),U(e,Me,K),Cn(e)},Rn=(e,i,t,n)=>{let a,r,o=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=zn(e)),ge(e,e.l_desc),ge(e,e.d_desc),o=En(e),a=e.opt_len+3+7>>>3,r=e.static_len+3+7>>>3,r<=a&&(a=r)):a=r=t+5,t+4<=a&&i!==-1?Li(e,i,t,n):e.strategy===4||r===a?(O(e,(vi<<1)+(n?1:0),3),Fe(e,K,St)):(O(e,(gn<<1)+(n?1:0),3),Mn(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),Fe(e,e.dyn_ltree,e.dyn_dtree)),Oi(e),n&&Di(e)},$n=(e,i,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=i,e.pending_buf[e.sym_buf+e.sym_next++]=i>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,i===0?e.dyn_ltree[t*2]++:(e.matches++,i--,e.dyn_ltree[(At[t]+Lt+1)*2]++,e.dyn_dtree[Ni(i)*2]++),e.sym_next===e.sym_end),On=An,Dn=Li,Ln=Rn,In=$n,Zn=Nn,Fn={_tr_init:On,_tr_stored_block:Dn,_tr_flush_block:Ln,_tr_tally:In,_tr_align:Zn},Pn=(e,i,t,n)=>{let a=e&65535|0,r=e>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do a=a+i[n++]|0,r=r+a|0;while(--o);a%=65521,r%=65521}return a|r<<16|0},Rt=Pn,Un=()=>{let e,i=[];for(var t=0;t<256;t++){e=t;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;i[t]=e}return i},jn=new Uint32Array(Un()),Yn=(e,i,t,n)=>{let a=jn,r=n+t;e^=-1;for(let o=n;o<r;o++)e=e>>>8^a[(e^i[o])&255];return e^-1},N=Yn,nt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ot={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:Xn,_tr_stored_block:we,_tr_flush_block:Hn,_tr_tally:V,_tr_align:Bn}=Fn,{Z_NO_FLUSH:Q,Z_PARTIAL_FLUSH:Kn,Z_FULL_FLUSH:Gn,Z_FINISH:I,Z_BLOCK:Ye,Z_OK:R,Z_STREAM_END:Xe,Z_STREAM_ERROR:j,Z_DATA_ERROR:Wn,Z_BUF_ERROR:se,Z_DEFAULT_COMPRESSION:qn,Z_FILTERED:Vn,Z_HUFFMAN_ONLY:jt,Z_RLE:Qn,Z_FIXED:Jn,Z_DEFAULT_STRATEGY:ta,Z_UNKNOWN:ea,Z_DEFLATED:Vt}=ot,ia=9,na=15,aa=8,ra=29,oa=256,xe=oa+1+ra,sa=30,la=19,ha=2*xe+1,ca=15,S=3,q=258,Y=q+S+1,fa=32,dt=42,Ae=57,ke=69,ve=73,ye=91,Ce=103,et=113,yt=666,$=1,bt=2,at=3,mt=4,_a=3,it=(e,i)=>(e.msg=nt[i],i),He=e=>e*2-(e>4?9:0),W=e=>{let i=e.length;for(;--i>=0;)e[i]=0},da=e=>{let i,t,n,a=e.w_size;i=e.hash_size,n=i;do t=e.head[--n],e.head[n]=t>=a?t-a:0;while(--i);i=a,n=i;do t=e.prev[--n],e.prev[n]=t>=a?t-a:0;while(--i)},ua=(e,i,t)=>(i<<e.hash_shift^t)&e.hash_mask,J=ua,D=e=>{let i=e.state,t=i.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(i.pending_buf.subarray(i.pending_out,i.pending_out+t),e.next_out),e.next_out+=t,i.pending_out+=t,e.total_out+=t,e.avail_out-=t,i.pending-=t,i.pending===0&&(i.pending_out=0))},L=(e,i)=>{Hn(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,i),e.block_start=e.strstart,D(e.strm)},E=(e,i)=>{e.pending_buf[e.pending++]=i},vt=(e,i)=>{e.pending_buf[e.pending++]=i>>>8&255,e.pending_buf[e.pending++]=i&255},Se=(e,i,t,n)=>{let a=e.avail_in;return a>n&&(a=n),a===0?0:(e.avail_in-=a,i.set(e.input.subarray(e.next_in,e.next_in+a),t),e.state.wrap===1?e.adler=Rt(e.adler,i,a,t):e.state.wrap===2&&(e.adler=N(e.adler,i,a,t)),e.next_in+=a,e.total_in+=a,a)},Ii=(e,i)=>{let t=e.max_chain_length,n=e.strstart,a,r,o=e.prev_length,s=e.nice_match,f=e.strstart>e.w_size-Y?e.strstart-(e.w_size-Y):0,l=e.window,h=e.w_mask,p=e.prev,_=e.strstart+q,c=l[n+o-1],u=l[n+o];e.prev_length>=e.good_match&&(t>>=2),s>e.lookahead&&(s=e.lookahead);do if(a=i,!(l[a+o]!==u||l[a+o-1]!==c||l[a]!==l[n]||l[++a]!==l[n+1])){n+=2,a++;do;while(l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&n<_);if(r=q-(_-n),n=_-q,r>o){if(e.match_start=i,o=r,r>=s)break;c=l[n+o-1],u=l[n+o]}}while((i=p[i&h])>f&&--t!==0);return o<=e.lookahead?o:e.lookahead},ut=e=>{let i=e.w_size,t,n,a;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=i+(i-Y)&&(e.window.set(e.window.subarray(i,i+i-n),0),e.match_start-=i,e.strstart-=i,e.block_start-=i,e.insert>e.strstart&&(e.insert=e.strstart),da(e),n+=i),e.strm.avail_in===0)break;if(t=Se(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=t,e.lookahead+e.insert>=S)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=J(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=J(e,e.ins_h,e.window[a+S-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<S)););}while(e.lookahead<Y&&e.strm.avail_in!==0)},Zi=(e,i)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,a,r,o=0,s=e.strm.avail_in;do{if(n=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r||(r=e.strm.avail_out-r,a=e.strstart-e.block_start,n>a+e.strm.avail_in&&(n=a+e.strm.avail_in),n>r&&(n=r),n<t&&(n===0&&i!==I||i===Q||n!==a+e.strm.avail_in)))break;o=i===I&&n===a+e.strm.avail_in?1:0,we(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,D(e.strm),a&&(a>n&&(a=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,n-=a),n&&(Se(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(o===0);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?mt:i!==Q&&i!==I&&e.strm.avail_in===0&&e.strstart===e.block_start?bt:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(Se(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,r=e.pending_buf_size-r>65535?65535:e.pending_buf_size-r,t=r>e.w_size?e.w_size:r,a=e.strstart-e.block_start,(a>=t||(a||i===I)&&i!==Q&&e.strm.avail_in===0&&a<=r)&&(n=a>r?r:a,o=i===I&&e.strm.avail_in===0&&n===a?1:0,we(e,e.block_start,n,o),e.block_start+=n,D(e.strm)),o?at:$)},le=(e,i)=>{let t,n;for(;;){if(e.lookahead<Y){if(ut(e),e.lookahead<Y&&i===Q)return $;if(e.lookahead===0)break}if(t=0,e.lookahead>=S&&(e.ins_h=J(e,e.ins_h,e.window[e.strstart+S-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-Y&&(e.match_length=Ii(e,t)),e.match_length>=S)if(n=V(e,e.strstart-e.match_start,e.match_length-S),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=S){e.match_length--;do e.strstart++,e.ins_h=J(e,e.ins_h,e.window[e.strstart+S-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=J(e,e.ins_h,e.window[e.strstart+1]);else n=V(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(L(e,!1),e.strm.avail_out===0))return $}return e.insert=e.strstart<S-1?e.strstart:S-1,i===I?(L(e,!0),e.strm.avail_out===0?at:mt):e.sym_next&&(L(e,!1),e.strm.avail_out===0)?$:bt},ct=(e,i)=>{let t,n,a;for(;;){if(e.lookahead<Y){if(ut(e),e.lookahead<Y&&i===Q)return $;if(e.lookahead===0)break}if(t=0,e.lookahead>=S&&(e.ins_h=J(e,e.ins_h,e.window[e.strstart+S-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=S-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-Y&&(e.match_length=Ii(e,t),e.match_length<=5&&(e.strategy===Vn||e.match_length===S&&e.strstart-e.match_start>4096)&&(e.match_length=S-1)),e.prev_length>=S&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-S,n=V(e,e.strstart-1-e.prev_match,e.prev_length-S),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=J(e,e.ins_h,e.window[e.strstart+S-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=S-1,e.strstart++,n&&(L(e,!1),e.strm.avail_out===0))return $}else if(e.match_available){if(n=V(e,0,e.window[e.strstart-1]),n&&L(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return $}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=V(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<S-1?e.strstart:S-1,i===I?(L(e,!0),e.strm.avail_out===0?at:mt):e.sym_next&&(L(e,!1),e.strm.avail_out===0)?$:bt},pa=(e,i)=>{let t,n,a,r,o=e.window;for(;;){if(e.lookahead<=q){if(ut(e),e.lookahead<=q&&i===Q)return $;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=S&&e.strstart>0&&(a=e.strstart-1,n=o[a],n===o[++a]&&n===o[++a]&&n===o[++a])){r=e.strstart+q;do;while(n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&a<r);e.match_length=q-(r-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=S?(t=V(e,1,e.match_length-S),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=V(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(L(e,!1),e.strm.avail_out===0))return $}return e.insert=0,i===I?(L(e,!0),e.strm.avail_out===0?at:mt):e.sym_next&&(L(e,!1),e.strm.avail_out===0)?$:bt},ba=(e,i)=>{let t;for(;;){if(e.lookahead===0&&(ut(e),e.lookahead===0)){if(i===Q)return $;break}if(e.match_length=0,t=V(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(L(e,!1),e.strm.avail_out===0))return $}return e.insert=0,i===I?(L(e,!0),e.strm.avail_out===0?at:mt):e.sym_next&&(L(e,!1),e.strm.avail_out===0)?$:bt};function P(e,i,t,n,a){this.good_length=e,this.max_lazy=i,this.nice_length=t,this.max_chain=n,this.func=a}var Ct=[new P(0,0,0,0,Zi),new P(4,4,8,4,le),new P(4,5,16,8,le),new P(4,6,32,32,le),new P(4,4,16,16,ct),new P(8,16,32,32,ct),new P(8,16,128,128,ct),new P(8,32,128,256,ct),new P(32,128,258,1024,ct),new P(32,258,258,4096,ct)],ma=e=>{e.window_size=2*e.w_size,W(e.head),e.max_lazy_match=Ct[e.level].max_lazy,e.good_match=Ct[e.level].good_length,e.nice_match=Ct[e.level].nice_length,e.max_chain_length=Ct[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=S-1,e.match_available=0,e.ins_h=0};function ga(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Vt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(ha*2),this.dyn_dtree=new Uint16Array((2*sa+1)*2),this.bl_tree=new Uint16Array((2*la+1)*2),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(ca+1),this.heap=new Uint16Array(2*xe+1),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*xe+1),W(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var It=e=>{if(!e)return 1;let i=e.state;return!i||i.strm!==e||i.status!==dt&&i.status!==Ae&&i.status!==ke&&i.status!==ve&&i.status!==ye&&i.status!==Ce&&i.status!==et&&i.status!==yt?1:0},Fi=e=>{if(It(e))return it(e,j);e.total_in=e.total_out=0,e.data_type=ea;let i=e.state;return i.pending=0,i.pending_out=0,i.wrap<0&&(i.wrap=-i.wrap),i.status=i.wrap===2?Ae:i.wrap?dt:et,e.adler=i.wrap===2?0:1,i.last_flush=-2,Xn(i),R},Pi=e=>{let i=Fi(e);return i===R&&ma(e.state),i},wa=(e,i)=>It(e)||e.state.wrap!==2?j:(e.state.gzhead=i,R),Ui=(e,i,t,n,a,r)=>{if(!e)return j;let o=1;if(i===qn&&(i=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),a<1||a>ia||t!==Vt||n<8||n>15||i<0||i>9||r<0||r>Jn||n===8&&o!==1)return it(e,j);n===8&&(n=9);let s=new ga;return e.state=s,s.strm=e,s.status=dt,s.wrap=o,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=a+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+S-1)/S),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<a+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=i,s.strategy=r,s.method=t,Pi(e)},xa=(e,i)=>Ui(e,i,Vt,na,aa,ta),ka=(e,i)=>{if(It(e)||i>Ye||i<0)return e?it(e,j):j;let t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===yt&&i!==I)return it(e,e.avail_out===0?se:j);let n=t.last_flush;if(t.last_flush=i,t.pending!==0){if(D(e),e.avail_out===0)return t.last_flush=-1,R}else if(e.avail_in===0&&He(i)<=He(n)&&i!==I)return it(e,se);if(t.status===yt&&e.avail_in!==0)return it(e,se);if(t.status===dt&&t.wrap===0&&(t.status=et),t.status===dt){let a=Vt+(t.w_bits-8<<4)<<8,r=-1;if(t.strategy>=jt||t.level<2?r=0:t.level<6?r=1:t.level===6?r=2:r=3,a|=r<<6,t.strstart!==0&&(a|=fa),a+=31-a%31,vt(t,a),t.strstart!==0&&(vt(t,e.adler>>>16),vt(t,e.adler&65535)),e.adler=1,t.status=et,D(e),t.pending!==0)return t.last_flush=-1,R}if(t.status===Ae){if(e.adler=0,E(t,31),E(t,139),E(t,8),t.gzhead)E(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),E(t,t.gzhead.time&255),E(t,t.gzhead.time>>8&255),E(t,t.gzhead.time>>16&255),E(t,t.gzhead.time>>24&255),E(t,t.level===9?2:t.strategy>=jt||t.level<2?4:0),E(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(E(t,t.gzhead.extra.length&255),E(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=N(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=ke;else if(E(t,0),E(t,0),E(t,0),E(t,0),E(t,0),E(t,t.level===9?2:t.strategy>=jt||t.level<2?4:0),E(t,_a),t.status=et,D(e),t.pending!==0)return t.last_flush=-1,R}if(t.status===ke){if(t.gzhead.extra){let a=t.pending,r=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+r>t.pending_buf_size;){let s=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>a&&(e.adler=N(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex+=s,D(e),t.pending!==0)return t.last_flush=-1,R;a=0,r-=s}let o=new Uint8Array(t.gzhead.extra);t.pending_buf.set(o.subarray(t.gzindex,t.gzindex+r),t.pending),t.pending+=r,t.gzhead.hcrc&&t.pending>a&&(e.adler=N(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=ve}if(t.status===ve){if(t.gzhead.name){let a=t.pending,r;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(e.adler=N(e.adler,t.pending_buf,t.pending-a,a)),D(e),t.pending!==0)return t.last_flush=-1,R;a=0}t.gzindex<t.gzhead.name.length?r=t.gzhead.name.charCodeAt(t.gzindex++)&255:r=0,E(t,r)}while(r!==0);t.gzhead.hcrc&&t.pending>a&&(e.adler=N(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=ye}if(t.status===ye){if(t.gzhead.comment){let a=t.pending,r;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(e.adler=N(e.adler,t.pending_buf,t.pending-a,a)),D(e),t.pending!==0)return t.last_flush=-1,R;a=0}t.gzindex<t.gzhead.comment.length?r=t.gzhead.comment.charCodeAt(t.gzindex++)&255:r=0,E(t,r)}while(r!==0);t.gzhead.hcrc&&t.pending>a&&(e.adler=N(e.adler,t.pending_buf,t.pending-a,a))}t.status=Ce}if(t.status===Ce){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(D(e),t.pending!==0))return t.last_flush=-1,R;E(t,e.adler&255),E(t,e.adler>>8&255),e.adler=0}if(t.status=et,D(e),t.pending!==0)return t.last_flush=-1,R}if(e.avail_in!==0||t.lookahead!==0||i!==Q&&t.status!==yt){let a=t.level===0?Zi(t,i):t.strategy===jt?ba(t,i):t.strategy===Qn?pa(t,i):Ct[t.level].func(t,i);if((a===at||a===mt)&&(t.status=yt),a===$||a===at)return e.avail_out===0&&(t.last_flush=-1),R;if(a===bt&&(i===Kn?Bn(t):i!==Ye&&(we(t,0,0,!1),i===Gn&&(W(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),D(e),e.avail_out===0))return t.last_flush=-1,R}return i!==I?R:t.wrap<=0?Xe:(t.wrap===2?(E(t,e.adler&255),E(t,e.adler>>8&255),E(t,e.adler>>16&255),E(t,e.adler>>24&255),E(t,e.total_in&255),E(t,e.total_in>>8&255),E(t,e.total_in>>16&255),E(t,e.total_in>>24&255)):(vt(t,e.adler>>>16),vt(t,e.adler&65535)),D(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?R:Xe)},va=e=>{if(It(e))return j;let i=e.state.status;return e.state=null,i===et?it(e,Wn):R},ya=(e,i)=>{let t=i.length;if(It(e))return j;let n=e.state,a=n.wrap;if(a===2||a===1&&n.status!==dt||n.lookahead)return j;if(a===1&&(e.adler=Rt(e.adler,i,t,0)),n.wrap=0,t>=n.w_size){a===0&&(W(n.head),n.strstart=0,n.block_start=0,n.insert=0);let f=new Uint8Array(n.w_size);f.set(i.subarray(t-n.w_size,t),0),i=f,t=n.w_size}let r=e.avail_in,o=e.next_in,s=e.input;for(e.avail_in=t,e.next_in=0,e.input=i,ut(n);n.lookahead>=S;){let f=n.strstart,l=n.lookahead-(S-1);do n.ins_h=J(n,n.ins_h,n.window[f+S-1]),n.prev[f&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=f,f++;while(--l);n.strstart=f,n.lookahead=S-1,ut(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=S-1,n.match_available=0,e.next_in=o,e.input=s,e.avail_in=r,n.wrap=a,R},Ca=xa,Sa=Ui,Ta=Pi,Ea=Fi,Ma=wa,za=ka,Aa=va,Na=ya,Ra="pako deflate (from Nodeca project)",Tt={deflateInit:Ca,deflateInit2:Sa,deflateReset:Ta,deflateResetKeep:Ea,deflateSetHeader:Ma,deflate:za,deflateEnd:Aa,deflateSetDictionary:Na,deflateInfo:Ra},$a=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),Oa=function(e){let i=Array.prototype.slice.call(arguments,1);for(;i.length;){let t=i.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(let n in t)$a(t,n)&&(e[n]=t[n])}}return e},Da=e=>{let i=0;for(let n=0,a=e.length;n<a;n++)i+=e[n].length;let t=new Uint8Array(i);for(let n=0,a=0,r=e.length;n<r;n++){let o=e[n];t.set(o,a),a+=o.length}return t},Qt={assign:Oa,flattenChunks:Da},ji=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){ji=!1}var $t=new Uint8Array(256);for(let e=0;e<256;e++)$t[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;$t[254]=$t[254]=1;var La=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let i,t,n,a,r,o=e.length,s=0;for(a=0;a<o;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),s+=t<128?1:t<2048?2:t<65536?3:4;for(i=new Uint8Array(s),r=0,a=0;r<s;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),t<128?i[r++]=t:t<2048?(i[r++]=192|t>>>6,i[r++]=128|t&63):t<65536?(i[r++]=224|t>>>12,i[r++]=128|t>>>6&63,i[r++]=128|t&63):(i[r++]=240|t>>>18,i[r++]=128|t>>>12&63,i[r++]=128|t>>>6&63,i[r++]=128|t&63);return i},Ia=(e,i)=>{if(i<65534&&e.subarray&&ji)return String.fromCharCode.apply(null,e.length===i?e:e.subarray(0,i));let t="";for(let n=0;n<i;n++)t+=String.fromCharCode(e[n]);return t},Za=(e,i)=>{let t=i||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,i));let n,a,r=new Array(t*2);for(a=0,n=0;n<t;){let o=e[n++];if(o<128){r[a++]=o;continue}let s=$t[o];if(s>4){r[a++]=65533,n+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&n<t;)o=o<<6|e[n++]&63,s--;if(s>1){r[a++]=65533;continue}o<65536?r[a++]=o:(o-=65536,r[a++]=55296|o>>10&1023,r[a++]=56320|o&1023)}return Ia(r,a)},Fa=(e,i)=>{i=i||e.length,i>e.length&&(i=e.length);let t=i-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?i:t+$t[e[t]]>i?t:i},Ot={string2buf:La,buf2string:Za,utf8border:Fa};function Pa(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Yi=Pa,Xi=Object.prototype.toString,{Z_NO_FLUSH:Ua,Z_SYNC_FLUSH:ja,Z_FULL_FLUSH:Ya,Z_FINISH:Xa,Z_OK:Wt,Z_STREAM_END:Ha,Z_DEFAULT_COMPRESSION:Ba,Z_DEFAULT_STRATEGY:Ka,Z_DEFLATED:Ga}=ot;function Zt(e){this.options=Qt.assign({level:Ba,method:Ga,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ka},e||{});let i=this.options;i.raw&&i.windowBits>0?i.windowBits=-i.windowBits:i.gzip&&i.windowBits>0&&i.windowBits<16&&(i.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Yi,this.strm.avail_out=0;let t=Tt.deflateInit2(this.strm,i.level,i.method,i.windowBits,i.memLevel,i.strategy);if(t!==Wt)throw new Error(nt[t]);if(i.header&&Tt.deflateSetHeader(this.strm,i.header),i.dictionary){let n;if(typeof i.dictionary=="string"?n=Ot.string2buf(i.dictionary):Xi.call(i.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(i.dictionary):n=i.dictionary,t=Tt.deflateSetDictionary(this.strm,n),t!==Wt)throw new Error(nt[t]);this._dict_set=!0}}Zt.prototype.push=function(e,i){let t=this.strm,n=this.options.chunkSize,a,r;if(this.ended)return!1;for(i===~~i?r=i:r=i===!0?Xa:Ua,typeof e=="string"?t.input=Ot.string2buf(e):Xi.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),(r===ja||r===Ya)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(a=Tt.deflate(t,r),a===Ha)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),a=Tt.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Wt;if(t.avail_out===0){this.onData(t.output);continue}if(r>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};Zt.prototype.onData=function(e){this.chunks.push(e)};Zt.prototype.onEnd=function(e){e===Wt&&(this.result=Qt.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Ne(e,i){let t=new Zt(i);if(t.push(e,!0),t.err)throw t.msg||nt[t.err];return t.result}function Wa(e,i){return i=i||{},i.raw=!0,Ne(e,i)}function qa(e,i){return i=i||{},i.gzip=!0,Ne(e,i)}var Va=Zt,Qa=Ne,Ja=Wa,tr=qa,er=ot,ir={Deflate:Va,deflate:Qa,deflateRaw:Ja,gzip:tr,constants:er},Yt=16209,nr=16191,ar=function(i,t){let n,a,r,o,s,f,l,h,p,_,c,u,w,y,m,x,k,d,T,A,b,M,v,g,C=i.state;n=i.next_in,v=i.input,a=n+(i.avail_in-5),r=i.next_out,g=i.output,o=r-(t-i.avail_out),s=r+(i.avail_out-257),f=C.dmax,l=C.wsize,h=C.whave,p=C.wnext,_=C.window,c=C.hold,u=C.bits,w=C.lencode,y=C.distcode,m=(1<<C.lenbits)-1,x=(1<<C.distbits)-1;t:do{u<15&&(c+=v[n++]<<u,u+=8,c+=v[n++]<<u,u+=8),k=w[c&m];e:for(;;){if(d=k>>>24,c>>>=d,u-=d,d=k>>>16&255,d===0)g[r++]=k&65535;else if(d&16){T=k&65535,d&=15,d&&(u<d&&(c+=v[n++]<<u,u+=8),T+=c&(1<<d)-1,c>>>=d,u-=d),u<15&&(c+=v[n++]<<u,u+=8,c+=v[n++]<<u,u+=8),k=y[c&x];i:for(;;){if(d=k>>>24,c>>>=d,u-=d,d=k>>>16&255,d&16){if(A=k&65535,d&=15,u<d&&(c+=v[n++]<<u,u+=8,u<d&&(c+=v[n++]<<u,u+=8)),A+=c&(1<<d)-1,A>f){i.msg="invalid distance too far back",C.mode=Yt;break t}if(c>>>=d,u-=d,d=r-o,A>d){if(d=A-d,d>h&&C.sane){i.msg="invalid distance too far back",C.mode=Yt;break t}if(b=0,M=_,p===0){if(b+=l-d,d<T){T-=d;do g[r++]=_[b++];while(--d);b=r-A,M=g}}else if(p<d){if(b+=l+p-d,d-=p,d<T){T-=d;do g[r++]=_[b++];while(--d);if(b=0,p<T){d=p,T-=d;do g[r++]=_[b++];while(--d);b=r-A,M=g}}}else if(b+=p-d,d<T){T-=d;do g[r++]=_[b++];while(--d);b=r-A,M=g}for(;T>2;)g[r++]=M[b++],g[r++]=M[b++],g[r++]=M[b++],T-=3;T&&(g[r++]=M[b++],T>1&&(g[r++]=M[b++]))}else{b=r-A;do g[r++]=g[b++],g[r++]=g[b++],g[r++]=g[b++],T-=3;while(T>2);T&&(g[r++]=g[b++],T>1&&(g[r++]=g[b++]))}}else if(d&64){i.msg="invalid distance code",C.mode=Yt;break t}else{k=y[(k&65535)+(c&(1<<d)-1)];continue i}break}}else if(d&64)if(d&32){C.mode=nr;break t}else{i.msg="invalid literal/length code",C.mode=Yt;break t}else{k=w[(k&65535)+(c&(1<<d)-1)];continue e}break}}while(n<a&&r<s);T=u>>3,n-=T,u-=T<<3,c&=(1<<u)-1,i.next_in=n,i.next_out=r,i.avail_in=n<a?5+(a-n):5-(n-a),i.avail_out=r<s?257+(s-r):257-(r-s),C.hold=c,C.bits=u},ft=15,Be=852,Ke=592,Ge=0,he=1,We=2,rr=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),or=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),sr=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),lr=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),hr=(e,i,t,n,a,r,o,s)=>{let f=s.bits,l=0,h=0,p=0,_=0,c=0,u=0,w=0,y=0,m=0,x=0,k,d,T,A,b,M=null,v,g=new Uint16Array(ft+1),C=new Uint16Array(ft+1),F=null,kt,X,H;for(l=0;l<=ft;l++)g[l]=0;for(h=0;h<n;h++)g[i[t+h]]++;for(c=f,_=ft;_>=1&&g[_]===0;_--);if(c>_&&(c=_),_===0)return a[r++]=1<<24|64<<16|0,a[r++]=1<<24|64<<16|0,s.bits=1,0;for(p=1;p<_&&g[p]===0;p++);for(c<p&&(c=p),y=1,l=1;l<=ft;l++)if(y<<=1,y-=g[l],y<0)return-1;if(y>0&&(e===Ge||_!==1))return-1;for(C[1]=0,l=1;l<ft;l++)C[l+1]=C[l]+g[l];for(h=0;h<n;h++)i[t+h]!==0&&(o[C[i[t+h]]++]=h);if(e===Ge?(M=F=o,v=20):e===he?(M=rr,F=or,v=257):(M=sr,F=lr,v=0),x=0,h=0,l=p,b=r,u=c,w=0,T=-1,m=1<<c,A=m-1,e===he&&m>Be||e===We&&m>Ke)return 1;for(;;){kt=l-w,o[h]+1<v?(X=0,H=o[h]):o[h]>=v?(X=F[o[h]-v],H=M[o[h]-v]):(X=96,H=0),k=1<<l-w,d=1<<u,p=d;do d-=k,a[b+(x>>w)+d]=kt<<24|X<<16|H|0;while(d!==0);for(k=1<<l-1;x&k;)k>>=1;if(k!==0?(x&=k-1,x+=k):x=0,h++,--g[l]===0){if(l===_)break;l=i[t+o[h]]}if(l>c&&(x&A)!==T){for(w===0&&(w=c),b+=p,u=l-w,y=1<<u;u+w<_&&(y-=g[u+w],!(y<=0));)u++,y<<=1;if(m+=1<<u,e===he&&m>Be||e===We&&m>Ke)return 1;T=x&A,a[T]=c<<24|u<<16|b-r|0}}return x!==0&&(a[b+x]=l-w<<24|64<<16|0),s.bits=c,0},Et=hr,cr=0,Hi=1,Bi=2,{Z_FINISH:qe,Z_BLOCK:fr,Z_TREES:Xt,Z_OK:rt,Z_STREAM_END:_r,Z_NEED_DICT:dr,Z_STREAM_ERROR:Z,Z_DATA_ERROR:Ki,Z_MEM_ERROR:Gi,Z_BUF_ERROR:ur,Z_DEFLATED:Ve}=ot,Jt=16180,Qe=16181,Je=16182,ti=16183,ei=16184,ii=16185,ni=16186,ai=16187,ri=16188,oi=16189,qt=16190,B=16191,ce=16192,si=16193,fe=16194,li=16195,hi=16196,ci=16197,fi=16198,Ht=16199,Bt=16200,_i=16201,di=16202,ui=16203,pi=16204,bi=16205,_e=16206,mi=16207,gi=16208,z=16209,Wi=16210,qi=16211,pr=852,br=592,mr=15,gr=mr,wi=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function wr(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var st=e=>{if(!e)return 1;let i=e.state;return!i||i.strm!==e||i.mode<Jt||i.mode>qi?1:0},Vi=e=>{if(st(e))return Z;let i=e.state;return e.total_in=e.total_out=i.total=0,e.msg="",i.wrap&&(e.adler=i.wrap&1),i.mode=Jt,i.last=0,i.havedict=0,i.flags=-1,i.dmax=32768,i.head=null,i.hold=0,i.bits=0,i.lencode=i.lendyn=new Int32Array(pr),i.distcode=i.distdyn=new Int32Array(br),i.sane=1,i.back=-1,rt},Qi=e=>{if(st(e))return Z;let i=e.state;return i.wsize=0,i.whave=0,i.wnext=0,Vi(e)},Ji=(e,i)=>{let t;if(st(e))return Z;let n=e.state;return i<0?(t=0,i=-i):(t=(i>>4)+5,i<48&&(i&=15)),i&&(i<8||i>15)?Z:(n.window!==null&&n.wbits!==i&&(n.window=null),n.wrap=t,n.wbits=i,Qi(e))},tn=(e,i)=>{if(!e)return Z;let t=new wr;e.state=t,t.strm=e,t.window=null,t.mode=Jt;let n=Ji(e,i);return n!==rt&&(e.state=null),n},xr=e=>tn(e,gr),xi=!0,de,ue,kr=e=>{if(xi){de=new Int32Array(512),ue=new Int32Array(32);let i=0;for(;i<144;)e.lens[i++]=8;for(;i<256;)e.lens[i++]=9;for(;i<280;)e.lens[i++]=7;for(;i<288;)e.lens[i++]=8;for(Et(Hi,e.lens,0,288,de,0,e.work,{bits:9}),i=0;i<32;)e.lens[i++]=5;Et(Bi,e.lens,0,32,ue,0,e.work,{bits:5}),xi=!1}e.lencode=de,e.lenbits=9,e.distcode=ue,e.distbits=5},en=(e,i,t,n)=>{let a,r=e.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(r.window.set(i.subarray(t-r.wsize,t),0),r.wnext=0,r.whave=r.wsize):(a=r.wsize-r.wnext,a>n&&(a=n),r.window.set(i.subarray(t-n,t-n+a),r.wnext),n-=a,n?(r.window.set(i.subarray(t-n,t),0),r.wnext=n,r.whave=r.wsize):(r.wnext+=a,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=a))),0},vr=(e,i)=>{let t,n,a,r,o,s,f,l,h,p,_,c,u,w,y=0,m,x,k,d,T,A,b,M,v=new Uint8Array(4),g,C,F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(st(e)||!e.output||!e.input&&e.avail_in!==0)return Z;t=e.state,t.mode===B&&(t.mode=ce),o=e.next_out,a=e.output,f=e.avail_out,r=e.next_in,n=e.input,s=e.avail_in,l=t.hold,h=t.bits,p=s,_=f,M=rt;t:for(;;)switch(t.mode){case Jt:if(t.wrap===0){t.mode=ce;break}for(;h<16;){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}if(t.wrap&2&&l===35615){t.wbits===0&&(t.wbits=15),t.check=0,v[0]=l&255,v[1]=l>>>8&255,t.check=N(t.check,v,2,0),l=0,h=0,t.mode=Qe;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",t.mode=z;break}if((l&15)!==Ve){e.msg="unknown compression method",t.mode=z;break}if(l>>>=4,h-=4,b=(l&15)+8,t.wbits===0&&(t.wbits=b),b>15||b>t.wbits){e.msg="invalid window size",t.mode=z;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=l&512?oi:B,l=0,h=0;break;case Qe:for(;h<16;){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}if(t.flags=l,(t.flags&255)!==Ve){e.msg="unknown compression method",t.mode=z;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=z;break}t.head&&(t.head.text=l>>8&1),t.flags&512&&t.wrap&4&&(v[0]=l&255,v[1]=l>>>8&255,t.check=N(t.check,v,2,0)),l=0,h=0,t.mode=Je;case Je:for(;h<32;){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}t.head&&(t.head.time=l),t.flags&512&&t.wrap&4&&(v[0]=l&255,v[1]=l>>>8&255,v[2]=l>>>16&255,v[3]=l>>>24&255,t.check=N(t.check,v,4,0)),l=0,h=0,t.mode=ti;case ti:for(;h<16;){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}t.head&&(t.head.xflags=l&255,t.head.os=l>>8),t.flags&512&&t.wrap&4&&(v[0]=l&255,v[1]=l>>>8&255,t.check=N(t.check,v,2,0)),l=0,h=0,t.mode=ei;case ei:if(t.flags&1024){for(;h<16;){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}t.length=l,t.head&&(t.head.extra_len=l),t.flags&512&&t.wrap&4&&(v[0]=l&255,v[1]=l>>>8&255,t.check=N(t.check,v,2,0)),l=0,h=0}else t.head&&(t.head.extra=null);t.mode=ii;case ii:if(t.flags&1024&&(c=t.length,c>s&&(c=s),c&&(t.head&&(b=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(r,r+c),b)),t.flags&512&&t.wrap&4&&(t.check=N(t.check,n,c,r)),s-=c,r+=c,t.length-=c),t.length))break t;t.length=0,t.mode=ni;case ni:if(t.flags&2048){if(s===0)break t;c=0;do b=n[r+c++],t.head&&b&&t.length<65536&&(t.head.name+=String.fromCharCode(b));while(b&&c<s);if(t.flags&512&&t.wrap&4&&(t.check=N(t.check,n,c,r)),s-=c,r+=c,b)break t}else t.head&&(t.head.name=null);t.length=0,t.mode=ai;case ai:if(t.flags&4096){if(s===0)break t;c=0;do b=n[r+c++],t.head&&b&&t.length<65536&&(t.head.comment+=String.fromCharCode(b));while(b&&c<s);if(t.flags&512&&t.wrap&4&&(t.check=N(t.check,n,c,r)),s-=c,r+=c,b)break t}else t.head&&(t.head.comment=null);t.mode=ri;case ri:if(t.flags&512){for(;h<16;){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}if(t.wrap&4&&l!==(t.check&65535)){e.msg="header crc mismatch",t.mode=z;break}l=0,h=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=B;break;case oi:for(;h<32;){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}e.adler=t.check=wi(l),l=0,h=0,t.mode=qt;case qt:if(t.havedict===0)return e.next_out=o,e.avail_out=f,e.next_in=r,e.avail_in=s,t.hold=l,t.bits=h,dr;e.adler=t.check=1,t.mode=B;case B:if(i===fr||i===Xt)break t;case ce:if(t.last){l>>>=h&7,h-=h&7,t.mode=_e;break}for(;h<3;){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}switch(t.last=l&1,l>>>=1,h-=1,l&3){case 0:t.mode=si;break;case 1:if(kr(t),t.mode=Ht,i===Xt){l>>>=2,h-=2;break t}break;case 2:t.mode=hi;break;case 3:e.msg="invalid block type",t.mode=z}l>>>=2,h-=2;break;case si:for(l>>>=h&7,h-=h&7;h<32;){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",t.mode=z;break}if(t.length=l&65535,l=0,h=0,t.mode=fe,i===Xt)break t;case fe:t.mode=li;case li:if(c=t.length,c){if(c>s&&(c=s),c>f&&(c=f),c===0)break t;a.set(n.subarray(r,r+c),o),s-=c,r+=c,f-=c,o+=c,t.length-=c;break}t.mode=B;break;case hi:for(;h<14;){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}if(t.nlen=(l&31)+257,l>>>=5,h-=5,t.ndist=(l&31)+1,l>>>=5,h-=5,t.ncode=(l&15)+4,l>>>=4,h-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=z;break}t.have=0,t.mode=ci;case ci:for(;t.have<t.ncode;){for(;h<3;){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}t.lens[F[t.have++]]=l&7,l>>>=3,h-=3}for(;t.have<19;)t.lens[F[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,g={bits:t.lenbits},M=Et(cr,t.lens,0,19,t.lencode,0,t.work,g),t.lenbits=g.bits,M){e.msg="invalid code lengths set",t.mode=z;break}t.have=0,t.mode=fi;case fi:for(;t.have<t.nlen+t.ndist;){for(;y=t.lencode[l&(1<<t.lenbits)-1],m=y>>>24,x=y>>>16&255,k=y&65535,!(m<=h);){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}if(k<16)l>>>=m,h-=m,t.lens[t.have++]=k;else{if(k===16){for(C=m+2;h<C;){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}if(l>>>=m,h-=m,t.have===0){e.msg="invalid bit length repeat",t.mode=z;break}b=t.lens[t.have-1],c=3+(l&3),l>>>=2,h-=2}else if(k===17){for(C=m+3;h<C;){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}l>>>=m,h-=m,b=0,c=3+(l&7),l>>>=3,h-=3}else{for(C=m+7;h<C;){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}l>>>=m,h-=m,b=0,c=11+(l&127),l>>>=7,h-=7}if(t.have+c>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=z;break}for(;c--;)t.lens[t.have++]=b}}if(t.mode===z)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=z;break}if(t.lenbits=9,g={bits:t.lenbits},M=Et(Hi,t.lens,0,t.nlen,t.lencode,0,t.work,g),t.lenbits=g.bits,M){e.msg="invalid literal/lengths set",t.mode=z;break}if(t.distbits=6,t.distcode=t.distdyn,g={bits:t.distbits},M=Et(Bi,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,g),t.distbits=g.bits,M){e.msg="invalid distances set",t.mode=z;break}if(t.mode=Ht,i===Xt)break t;case Ht:t.mode=Bt;case Bt:if(s>=6&&f>=258){e.next_out=o,e.avail_out=f,e.next_in=r,e.avail_in=s,t.hold=l,t.bits=h,ar(e,_),o=e.next_out,a=e.output,f=e.avail_out,r=e.next_in,n=e.input,s=e.avail_in,l=t.hold,h=t.bits,t.mode===B&&(t.back=-1);break}for(t.back=0;y=t.lencode[l&(1<<t.lenbits)-1],m=y>>>24,x=y>>>16&255,k=y&65535,!(m<=h);){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}if(x&&!(x&240)){for(d=m,T=x,A=k;y=t.lencode[A+((l&(1<<d+T)-1)>>d)],m=y>>>24,x=y>>>16&255,k=y&65535,!(d+m<=h);){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}l>>>=d,h-=d,t.back+=d}if(l>>>=m,h-=m,t.back+=m,t.length=k,x===0){t.mode=bi;break}if(x&32){t.back=-1,t.mode=B;break}if(x&64){e.msg="invalid literal/length code",t.mode=z;break}t.extra=x&15,t.mode=_i;case _i:if(t.extra){for(C=t.extra;h<C;){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,h-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=di;case di:for(;y=t.distcode[l&(1<<t.distbits)-1],m=y>>>24,x=y>>>16&255,k=y&65535,!(m<=h);){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}if(!(x&240)){for(d=m,T=x,A=k;y=t.distcode[A+((l&(1<<d+T)-1)>>d)],m=y>>>24,x=y>>>16&255,k=y&65535,!(d+m<=h);){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}l>>>=d,h-=d,t.back+=d}if(l>>>=m,h-=m,t.back+=m,x&64){e.msg="invalid distance code",t.mode=z;break}t.offset=k,t.extra=x&15,t.mode=ui;case ui:if(t.extra){for(C=t.extra;h<C;){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,h-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=z;break}t.mode=pi;case pi:if(f===0)break t;if(c=_-f,t.offset>c){if(c=t.offset-c,c>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=z;break}c>t.wnext?(c-=t.wnext,u=t.wsize-c):u=t.wnext-c,c>t.length&&(c=t.length),w=t.window}else w=a,u=o-t.offset,c=t.length;c>f&&(c=f),f-=c,t.length-=c;do a[o++]=w[u++];while(--c);t.length===0&&(t.mode=Bt);break;case bi:if(f===0)break t;a[o++]=t.length,f--,t.mode=Bt;break;case _e:if(t.wrap){for(;h<32;){if(s===0)break t;s--,l|=n[r++]<<h,h+=8}if(_-=f,e.total_out+=_,t.total+=_,t.wrap&4&&_&&(e.adler=t.check=t.flags?N(t.check,a,_,o-_):Rt(t.check,a,_,o-_)),_=f,t.wrap&4&&(t.flags?l:wi(l))!==t.check){e.msg="incorrect data check",t.mode=z;break}l=0,h=0}t.mode=mi;case mi:if(t.wrap&&t.flags){for(;h<32;){if(s===0)break t;s--,l+=n[r++]<<h,h+=8}if(t.wrap&4&&l!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=z;break}l=0,h=0}t.mode=gi;case gi:M=_r;break t;case z:M=Ki;break t;case Wi:return Gi;case qi:default:return Z}return e.next_out=o,e.avail_out=f,e.next_in=r,e.avail_in=s,t.hold=l,t.bits=h,(t.wsize||_!==e.avail_out&&t.mode<z&&(t.mode<_e||i!==qe))&&en(e,e.output,e.next_out,_-e.avail_out),p-=e.avail_in,_-=e.avail_out,e.total_in+=p,e.total_out+=_,t.total+=_,t.wrap&4&&_&&(e.adler=t.check=t.flags?N(t.check,a,_,e.next_out-_):Rt(t.check,a,_,e.next_out-_)),e.data_type=t.bits+(t.last?64:0)+(t.mode===B?128:0)+(t.mode===Ht||t.mode===fe?256:0),(p===0&&_===0||i===qe)&&M===rt&&(M=ur),M},yr=e=>{if(st(e))return Z;let i=e.state;return i.window&&(i.window=null),e.state=null,rt},Cr=(e,i)=>{if(st(e))return Z;let t=e.state;return t.wrap&2?(t.head=i,i.done=!1,rt):Z},Sr=(e,i)=>{let t=i.length,n,a,r;return st(e)||(n=e.state,n.wrap!==0&&n.mode!==qt)?Z:n.mode===qt&&(a=1,a=Rt(a,i,t,0),a!==n.check)?Ki:(r=en(e,i,t,t),r?(n.mode=Wi,Gi):(n.havedict=1,rt))},Tr=Qi,Er=Ji,Mr=Vi,zr=xr,Ar=tn,Nr=vr,Rr=yr,$r=Cr,Or=Sr,Dr="pako inflate (from Nodeca project)",G={inflateReset:Tr,inflateReset2:Er,inflateResetKeep:Mr,inflateInit:zr,inflateInit2:Ar,inflate:Nr,inflateEnd:Rr,inflateGetHeader:$r,inflateSetDictionary:Or,inflateInfo:Dr};function Lr(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Ir=Lr,nn=Object.prototype.toString,{Z_NO_FLUSH:Zr,Z_FINISH:Fr,Z_OK:Dt,Z_STREAM_END:pe,Z_NEED_DICT:be,Z_STREAM_ERROR:Pr,Z_DATA_ERROR:ki,Z_MEM_ERROR:Ur}=ot;function Ft(e){this.options=Qt.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});let i=this.options;i.raw&&i.windowBits>=0&&i.windowBits<16&&(i.windowBits=-i.windowBits,i.windowBits===0&&(i.windowBits=-15)),i.windowBits>=0&&i.windowBits<16&&!(e&&e.windowBits)&&(i.windowBits+=32),i.windowBits>15&&i.windowBits<48&&(i.windowBits&15||(i.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Yi,this.strm.avail_out=0;let t=G.inflateInit2(this.strm,i.windowBits);if(t!==Dt)throw new Error(nt[t]);if(this.header=new Ir,G.inflateGetHeader(this.strm,this.header),i.dictionary&&(typeof i.dictionary=="string"?i.dictionary=Ot.string2buf(i.dictionary):nn.call(i.dictionary)==="[object ArrayBuffer]"&&(i.dictionary=new Uint8Array(i.dictionary)),i.raw&&(t=G.inflateSetDictionary(this.strm,i.dictionary),t!==Dt)))throw new Error(nt[t])}Ft.prototype.push=function(e,i){let t=this.strm,n=this.options.chunkSize,a=this.options.dictionary,r,o,s;if(this.ended)return!1;for(i===~~i?o=i:o=i===!0?Fr:Zr,nn.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),r=G.inflate(t,o),r===be&&a&&(r=G.inflateSetDictionary(t,a),r===Dt?r=G.inflate(t,o):r===ki&&(r=be));t.avail_in>0&&r===pe&&t.state.wrap>0&&e[t.next_in]!==0;)G.inflateReset(t),r=G.inflate(t,o);switch(r){case Pr:case ki:case be:case Ur:return this.onEnd(r),this.ended=!0,!1}if(s=t.avail_out,t.next_out&&(t.avail_out===0||r===pe))if(this.options.to==="string"){let f=Ot.utf8border(t.output,t.next_out),l=t.next_out-f,h=Ot.buf2string(t.output,f);t.next_out=l,t.avail_out=n-l,l&&t.output.set(t.output.subarray(f,f+l),0),this.onData(h)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(r===Dt&&s===0)){if(r===pe)return r=G.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Ft.prototype.onData=function(e){this.chunks.push(e)};Ft.prototype.onEnd=function(e){e===Dt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Qt.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Re(e,i){let t=new Ft(i);if(t.push(e),t.err)throw t.msg||nt[t.err];return t.result}function jr(e,i){return i=i||{},i.raw=!0,Re(e,i)}var Yr=Ft,Xr=Re,Hr=jr,Br=Re,Kr=ot,Gr={Inflate:Yr,inflate:Xr,inflateRaw:Hr,ungzip:Br,constants:Kr},{Deflate:Wr,deflate:qr,deflateRaw:Vr,gzip:Qr}=ir,{Inflate:Jr,inflate:to,inflateRaw:eo,ungzip:io}=Gr,no=Wr,ao=qr,ro=Vr,oo=Qr,so=Jr,lo=to,ho=eo,co=io,fo=ot,an={Deflate:no,deflate:ao,deflateRaw:ro,gzip:oo,Inflate:so,inflate:lo,inflateRaw:ho,ungzip:co,constants:fo};var te=class{constructor(){this.objectCount=0,this.objects=[],this.xref=[]}formatNumber(i){return typeof i!="number"||!isFinite(i)?(console.warn(`Invalid number in PDF: ${i}, using 0`),"0"):Number(i.toFixed(6)).toString()}labToRgb(i,t,n){let a=(i+16)/116,r=t/500+a,o=a-n/200,s=.95047,f=1,l=1.08883,h=(r>.206897?Math.pow(r,3):(r-16/116)/7.787)*s,p=(a>.206897?Math.pow(a,3):(a-16/116)/7.787)*f,_=(o>.206897?Math.pow(o,3):(o-16/116)/7.787)*l,c=h*3.2404542+p*-1.5371385+_*-.4985314,u=h*-.969266+p*1.8760108+_*.041556,w=h*.0556434+p*-.2040259+_*1.0572252;return c=c>.0031308?1.055*Math.pow(c,1/2.4)-.055:12.92*c,u=u>.0031308?1.055*Math.pow(u,1/2.4)-.055:12.92*u,w=w>.0031308?1.055*Math.pow(w,1/2.4)-.055:12.92*w,{r:Math.max(0,Math.min(1,c)),g:Math.max(0,Math.min(1,u)),b:Math.max(0,Math.min(1,w))}}rgbToCmyk(i,t,n){let a=1-Math.max(i,t,n);if(a===1)return{c:0,m:0,y:0,k:1};let r=(1-i-a)/(1-a),o=(1-t-a)/(1-a),s=(1-n-a)/(1-a);return{c:Math.max(0,Math.min(1,r)),m:Math.max(0,Math.min(1,o)),y:Math.max(0,Math.min(1,s)),k:Math.max(0,Math.min(1,a))}}generatePDF(i){this.objectCount=0,this.objects=[],this.xref=[];let t=this.allocateObject(),n=this.allocateObject(),a=this.allocateObject(),r=this.allocateObject(),o=this.allocateObject(),s=this.allocateObject(),f=i.contentStream.join(`
`),l=an.deflate(f),h={},p=this.buildColorSpaceDict(i.resources.ColorSpace),_=this.buildExtGStateDict(i.resources.ExtGState);p&&(h.ColorSpace=p),_&&(h.ExtGState=_);let c=this.getPlateNames(i.resources.ColorSpace),u=this.generateXMPMetadata(c);this.addObject(s,{Type:"/Metadata",Subtype:"/XML",Length:u.length},u),this.addObject(o,h),this.addObject(r,{Length:l.length,Filter:"/FlateDecode"},l),this.addObject(a,{Type:"/Page",Parent:`${n} 0 R`,MediaBox:`[0 0 ${this.formatNumber(i.width)} ${this.formatNumber(i.height)}]`,Contents:`${r} 0 R`,Resources:`${o} 0 R`}),this.addObject(n,{Type:"/Pages",Kids:`[${a} 0 R]`,Count:1}),this.addObject(t,{Type:"/Catalog",Pages:`${n} 0 R`,Metadata:`${s} 0 R`});let w=`%PDF-1.4
`;w+=`%\xFF\xFF\xFF\xFF
`;for(let m=1;m<=this.objectCount;m++){let x=this.objects[m];x&&(this.xref[m]=w.length,w+=`${m} 0 obj
`,w+=x,w+=`
endobj
`)}let y=w.length;w+=`xref
`,w+=`0 ${this.objectCount+1}
`,w+=`0000000000 65535 f 
`;for(let m=1;m<=this.objectCount;m++){let x=this.xref[m]||0;w+=x.toString().padStart(10,"0")+` 00000 n 
`}return w+=`trailer
`,w+=`<< /Size ${this.objectCount+1} /Root ${t} 0 R >>
`,w+=`startxref
`,w+=`${y}
`,w+="%%EOF",Buffer.from(w,"binary")}allocateObject(){let i=++this.objectCount;return this.objects[i]=null,i}addObject(i,t,n){if(typeof t=="string"){this.objects[i]=t;return}let a=["<<"];for(let[o,s]of Object.entries(t))s!=null&&a.push(`  /${o} ${s}`);a.push(">>");let r=a.join(`
`);if(n){r+=`
stream
`,this.objects[i]=r+Buffer.from(n).toString("binary")+`
endstream`;return}this.objects[i]=r}buildColorSpaceDict(i){if(!i||Object.keys(i).length===0)return null;let t=["<<"];for(let[n,a]of Object.entries(i))if(a.type==="Separation"){let r=this.allocateObject();this.addObject(r,{FunctionType:2,Domain:"[0 1]",C0:"[0 0 0 0]",C1:`[${this.formatNumber(a.tintTransform.c)} ${this.formatNumber(a.tintTransform.m)} ${this.formatNumber(a.tintTransform.y)} ${this.formatNumber(a.tintTransform.k)}]`,N:1});let o=this.allocateObject(),f=`[/Separation /${a.name.replace(/[\s()]/g,"#20")} /DeviceCMYK ${r} 0 R]`;this.objects[o]=f,t.push(`/${n} ${o} 0 R`)}else if(a.type==="Lab"){let r=this.allocateObject();if(a.name){let o=a.name.replace(/[\s()]/g,"#20"),s=this.allocateObject();this.objects[s]="[/Lab<</BlackPoint[0.0 0.0 0.0]/Range[-128.0 127.0 -128.0 127.0]/WhitePoint[0.964203 1.0 0.824905]>>]";let f=`[/Separation/${o} ${s} 0 R<</C0[100.0 0.0 0.0]/C1[${this.formatNumber(a.labFallback.L)} ${this.formatNumber(a.labFallback.a)} ${this.formatNumber(a.labFallback.b)}]/Domain[0 1]/FunctionType 2/N 1.0/Range[0.0 100.0 -128.0 127.0 -128.0 127.0]>>]`;this.objects[r]=f}else{let o=`[/Lab << /WhitePoint [${a.whitePoint.map(s=>this.formatNumber(s)).join(" ")}] /Range [${a.range.map(s=>this.formatNumber(s)).join(" ")}] >>]`;this.objects[r]=o}t.push(`/${n} ${r} 0 R`)}return t.push(">>"),t.join(`
`)}buildExtGStateDict(i){if(!i||Object.keys(i).length===0)return null;let t=["<<"];for(let[n,a]of Object.entries(i)){let r=this.allocateObject();this.addObject(r,a),t.push(`/${n} ${r} 0 R`)}return t.push(">>"),t.join(`
`)}getPlateNames(i){let t=[];for(let[n,a]of Object.entries(i))(a.type==="Separation"||a.type==="Lab"&&a.name)&&t.push(a.name);return t}generateXMPMetadata(i){let t=new Date().toISOString(),n="";return i.length>0&&(n=`
         <xmpTPg:PlateNames>
            <rdf:Seq>
${i.map(a=>`               <rdf:li>${a}</rdf:li>`).join(`
`)}
            </rdf:Seq>
         </xmpTPg:PlateNames>`),`<?xpacket begin="\uFEFF" id="W5M0MpCehiHzreSzNTczkc9d"?>
<x:xmpmeta xmlns:x="adobe:ns:meta/" x:xmptk="Adobe XMP Core 9.1-c001 79.675d0f7, 2023/06/11-19:21:16">
   <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
      <rdf:Description rdf:about=""
            xmlns:dc="http://purl.org/dc/elements/1.1/"
            xmlns:xmp="http://ns.adobe.com/xap/1.0/"
            xmlns:xmpTPg="http://ns.adobe.com/xap/1.0/t/pg/"
            xmlns:stDim="http://ns.adobe.com/xap/1.0/sType/Dimensions#">
         <dc:format>application/pdf</dc:format>
         <xmp:MetadataDate>${t}</xmp:MetadataDate>
         <xmp:ModifyDate>${t}</xmp:ModifyDate>
         <xmp:CreateDate>${t}</xmp:CreateDate>
         <xmp:CreatorTool>pdf-svg LAB Color Generator</xmp:CreatorTool>
         <xmpTPg:NPages>1</xmpTPg:NPages>${n}
      </rdf:Description>
   </rdf:RDF>
</x:xmpmeta>
<?xpacket end="w"?>`}};var gt=class{parse(i){return i=i.trim(),this.parseElement(i)}parseElement(i){let t=i.match(/^<(\w+)([^>]*)>/);if(!t)return null;let n=t[1],a=t[2],r={tagName:n.toLowerCase(),attributes:this.parseAttributes(a),children:[]};if(i=i.substring(t[0].length),a.endsWith("/"))return r;let o=`</${n}>`,s=i.lastIndexOf(o);if(s===-1)return console.warn(`No closing tag found for ${n}`),r;let f=i.substring(0,s);return r.children=this.parseChildren(f),r}parseChildren(i){let t=[],n=i.trim();for(;n&&(n=n.trim(),!!n);)if(n.startsWith("<")){let a=n.match(/^<(\w+)([^>]*)>/);if(a){let r=a[1];if(a[2].endsWith("/")){let s={tagName:r.toLowerCase(),attributes:this.parseAttributes(a[2]),children:[]};t.push(s),n=n.substring(a[0].length)}else{let s=`</${r}>`,f=1,l=a[0].length;for(;f>0&&l<n.length;){let h=n.indexOf(`<${r}`,l),p=n.indexOf(s,l);if(p===-1)break;if(h!==-1&&h<p)f++,l=h+1;else if(f--,f===0){let _=n.substring(0,p+s.length),c=this.parseElement(_);c&&t.push(c),n=n.substring(p+s.length)}else l=p+1}if(f>0){console.warn(`Unclosed tag: ${r}`);break}}}else n=n.substring(1)}else{let a=n.indexOf("<");if(a===-1)break;n=n.substring(a)}return t}parseAttributes(i){let t={},n=/(\w+(?:-\w+)*)(?:\s*=\s*"([^"]*)"|\s*=\s*'([^']*)')?/g,a;for(;(a=n.exec(i))!==null;){let r=a[1],o=a[2]||a[3]||"";t[r]=o}return t}};function $e(e){return{tagName:e.tagName,getAttribute(i){return e.attributes[i]||null},children:e.children,attributes:e.attributes}}var wt=class e{static apply(i,t){return new e().parse(t).applyTo(i)}constructor(){this.commands=[],this.currentX=0,this.currentY=0,this.startX=0,this.startY=0,this.lastCommand="",this.lastControlX=0,this.lastControlY=0}parse(i){if(!i)return this;let t=i.trim(),n=0;for(;n<t.length;){for(;n<t.length&&/\s/.test(t[n]);)n++;if(n>=t.length)break;let a=t[n];if(!/[MmLlHhVvCcSsQqTtAaZz]/.test(a)){console.warn(`Invalid path command: ${a}`),n++;continue}n++;let r=[];for(;n<t.length;){for(;n<t.length&&/[\s,]/.test(t[n]);)n++;if(n<t.length&&/[MmLlHhVvCcSsQqTtAaZz]/.test(t[n]))break;let o="",s=!1;for(n<t.length&&t[n]==="-"&&(o+="-",n++);n<t.length&&/\d/.test(t[n]);)o+=t[n],n++;if(n<t.length&&t[n]===".")for(o+=".",n++,s=!0;n<t.length&&/\d/.test(t[n]);)o+=t[n],n++;if(o===""&&n<t.length&&t[n]===".")for(o="0.",n++;n<t.length&&/\d/.test(t[n]);)o+=t[n],n++;if(o!==""&&o!=="-")r.push(parseFloat(o));else if(o==="-"){n--;break}}(r.length>0||/[Zz]/.test(a))&&this.processCommand(a,r)}return this}processCommand(i,t){switch(i){case"M":if(t.length>=2){this.moveTo(t[0],t[1]);for(let n=2;n<t.length;n+=2)n+1<t.length&&this.lineTo(t[n],t[n+1])}break;case"m":this.moveTo(this.currentX+t[0],this.currentY+t[1]);for(let n=2;n<t.length;n+=2)this.lineTo(this.currentX+t[n],this.currentY+t[n+1]);break;case"L":for(let n=0;n<t.length;n+=2)this.lineTo(t[n],t[n+1]);break;case"l":for(let n=0;n<t.length;n+=2)this.lineTo(this.currentX+t[n],this.currentY+t[n+1]);break;case"H":for(let n=0;n<t.length;n++)this.lineTo(t[n],this.currentY);break;case"h":for(let n=0;n<t.length;n++)this.lineTo(this.currentX+t[n],this.currentY);break;case"V":for(let n=0;n<t.length;n++)this.lineTo(this.currentX,t[n]);break;case"v":for(let n=0;n<t.length;n++)this.lineTo(this.currentX,this.currentY+t[n]);break;case"C":for(let n=0;n<t.length;n+=6)this.bezierCurveTo(t[n],t[n+1],t[n+2],t[n+3],t[n+4],t[n+5]);break;case"c":for(let n=0;n<t.length;n+=6)this.bezierCurveTo(this.currentX+t[n],this.currentY+t[n+1],this.currentX+t[n+2],this.currentY+t[n+3],this.currentX+t[n+4],this.currentY+t[n+5]);break;case"S":for(let n=0;n<t.length;n+=4)this.smoothBezierCurveTo(t[n],t[n+1],t[n+2],t[n+3]);break;case"s":for(let n=0;n<t.length;n+=4)this.smoothBezierCurveTo(this.currentX+t[n],this.currentY+t[n+1],this.currentX+t[n+2],this.currentY+t[n+3]);break;case"Q":for(let n=0;n<t.length;n+=4)this.quadraticCurveTo(t[n],t[n+1],t[n+2],t[n+3]);break;case"q":for(let n=0;n<t.length;n+=4)this.quadraticCurveTo(this.currentX+t[n],this.currentY+t[n+1],this.currentX+t[n+2],this.currentY+t[n+3]);break;case"T":for(let n=0;n<t.length;n+=2)this.smoothQuadraticCurveTo(t[n],t[n+1]);break;case"t":for(let n=0;n<t.length;n+=2)this.smoothQuadraticCurveTo(this.currentX+t[n],this.currentY+t[n+1]);break;case"A":for(let n=0;n<t.length;n+=7)this.arcTo(t[n],t[n+1],t[n+2],t[n+3],t[n+4],t[n+5],t[n+6]);break;case"a":for(let n=0;n<t.length;n+=7)this.arcTo(t[n],t[n+1],t[n+2],t[n+3],t[n+4],this.currentX+t[n+5],this.currentY+t[n+6]);break;case"Z":case"z":this.closePath();break}}moveTo(i,t){this.commands.push({type:"M",x:i,y:t}),this.currentX=this.startX=i,this.currentY=this.startY=t,this.lastCommand="M"}lineTo(i,t){this.commands.push({type:"L",x:i,y:t}),this.currentX=i,this.currentY=t,this.lastCommand="L"}bezierCurveTo(i,t,n,a,r,o){this.commands.push({type:"C",cp1x:i,cp1y:t,cp2x:n,cp2y:a,x:r,y:o}),this.currentX=r,this.currentY=o,this.lastControlX=n,this.lastControlY=a,this.lastCommand="C"}smoothBezierCurveTo(i,t,n,a){let r,o;this.lastCommand==="C"||this.lastCommand==="S"?(r=2*this.currentX-this.lastControlX,o=2*this.currentY-this.lastControlY):(r=this.currentX,o=this.currentY),this.bezierCurveTo(r,o,i,t,n,a),this.lastCommand="S"}quadraticCurveTo(i,t,n,a){let r=this.currentX+.6666666666666666*(i-this.currentX),o=this.currentY+2/3*(t-this.currentY),s=n+2/3*(i-n),f=a+2/3*(t-a);this.bezierCurveTo(r,o,s,f,n,a),this.lastControlX=i,this.lastControlY=t,this.lastCommand="Q"}smoothQuadraticCurveTo(i,t){let n,a;this.lastCommand==="Q"||this.lastCommand==="T"?(n=2*this.currentX-this.lastControlX,a=2*this.currentY-this.lastControlY):(n=this.currentX,a=this.currentY),this.quadraticCurveTo(n,a,i,t),this.lastCommand="T"}arcTo(i,t,n,a,r,o,s){if(i===0||t===0){this.lineTo(o,s);return}let f=n*Math.PI/180;i=Math.abs(i),t=Math.abs(t),a=!!a,r=!!r;let l=Math.cos(f),h=Math.sin(f),p=l*(this.currentX-o)/2+h*(this.currentY-s)/2,_=-h*(this.currentX-o)/2+l*(this.currentY-s)/2,c=p*p/(i*i)+_*_/(t*t);c>1&&(i*=Math.sqrt(c),t*=Math.sqrt(c));let u=a===r?-1:1,w=Math.max(0,i*i*t*t-i*i*_*_-t*t*p*p),y=u*Math.sqrt(w/(i*i*_*_+t*t*p*p)),m=y*i*_/t,x=-y*t*p/i,k=l*m-h*x+(this.currentX+o)/2,d=h*m+l*x+(this.currentY+s)/2,T=Math.atan2((_-x)/t,(p-m)/i),b=Math.atan2((-_-x)/t,(-p-m)/i)-T;r&&b<0?b+=2*Math.PI:!r&&b>0&&(b-=2*Math.PI);let M=Math.ceil(Math.abs(b)/(Math.PI/2)),v=b/M,g=8/3*Math.sin(v/4)*Math.sin(v/4)/Math.sin(v/2);for(let C=0;C<M;C++){let F=T+C*v,kt=F+v,X=Math.cos(F),H=Math.sin(F),lt=Math.cos(kt),ht=Math.sin(kt),rn=l*i*(X-g*H)-h*t*(H+g*X)+k,on=h*i*(X-g*H)+l*t*(H+g*X)+d,sn=l*i*(lt+g*ht)-h*t*(ht-g*lt)+k,ln=h*i*(lt+g*ht)+l*t*(ht-g*lt)+d,hn=l*i*lt-h*t*ht+k,cn=h*i*lt+l*t*ht+d;this.bezierCurveTo(rn,on,sn,ln,hn,cn)}this.lastCommand="A"}closePath(){this.commands.push({type:"Z"}),this.currentX=this.startX,this.currentY=this.startY,this.lastCommand="Z"}applyTo(i){for(let t of this.commands)switch(t.type){case"M":i.moveTo(t.x,t.y);break;case"L":i.lineTo(t.x,t.y);break;case"C":i.bezierCurveTo(t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.x,t.y);break;case"Z":i.closePath();break}return i}};function ee(e,i,t=0,n=0,a={}){let r=new Oe(e,a),o;if(typeof i=="string"?o=new gt().parse(i):o=i,!o){console.warn("SVGtoPDF: No valid SVG element found");return}let s=$e(o);e.save(),e.translate(t,n);let f=s.getAttribute("viewBox"),l=parseFloat(s.getAttribute("width"))||a.width||100,h=parseFloat(s.getAttribute("height"))||a.height||100;if(f){let[p,_,c,u]=f.split(/\s+/).map(parseFloat);if(!isNaN(c)&&!isNaN(u)&&c>0&&u>0){let w=Math.min(l/c,h/u);e.translate(0,h),e.scale(w,-w),e.translate(-p,-_)}}else if(a.width&&a.height){let p=parseFloat(s.getAttribute("width"))||100,_=parseFloat(s.getAttribute("height"))||100,c=a.width/p,u=a.height/_;e.translate(0,a.height),e.scale(c,-u)}else e.translate(0,h),e.scale(1,-1);r.renderElement(s),e.restore()}var Oe=class{constructor(i,t){this.doc=i,this.options=t,this.colorSpace=i.colorSpace,this.spotColors=i.spotColors}renderElement(i,t={}){var o;let n=(o=i.tagName)==null?void 0:o.toLowerCase();if(!n)return;let a=this.computeStyle(i,t),r=i.getAttribute("transform");switch(r&&(this.doc.save(),this.applyTransform(r)),n){case"svg":case"g":if(i.children)for(let s of i.children)this.renderElement($e(s),a);break;case"rect":this.drawRect(i,a);break;case"circle":this.drawCircle(i,a);break;case"ellipse":this.drawEllipse(i,a);break;case"path":this.drawPath(i,a);break;case"line":this.drawLine(i,a);break;case"polyline":this.drawPolyline(i,a);break;case"polygon":this.drawPolygon(i,a);break}r&&this.doc.restore()}computeStyle(i,t){let n=Ut({},t);if(["fill","stroke","fill-opacity","stroke-opacity","opacity","stroke-width","fill-rule"].forEach(r=>{let o=i.getAttribute(r);o!==null&&(n[r]=o)}),n.opacity){let r=parseFloat(n.opacity);n["fill-opacity"]=(parseFloat(n["fill-opacity"]||1)*r).toString(),n["stroke-opacity"]=(parseFloat(n["stroke-opacity"]||1)*r).toString()}return n}applyTransform(i){let t=i.match(/(\w+)\(([^)]+)\)/g);t&&t.forEach(n=>{let a=n.match(/(\w+)\(([^)]+)\)/);if(!a)return;let r=a[1],o=a[2].split(/[\s,]+/).map(parseFloat);switch(r){case"translate":this.doc.translate(o[0]||0,o[1]||0);break;case"scale":this.doc.scale(o[0]||1,o[1]||o[0]||1);break;case"rotate":let s=(o[0]||0)*Math.PI/180;this.doc.rotate(s,o[1]||0,o[2]||0);break;case"matrix":o.length===6&&this.doc.transform(...o);break}})}drawRect(i,t){let n=parseFloat(i.getAttribute("x"))||0,a=parseFloat(i.getAttribute("y"))||0,r=parseFloat(i.getAttribute("width"))||0,o=parseFloat(i.getAttribute("height"))||0,s=parseFloat(i.getAttribute("rx"))||0,f=parseFloat(i.getAttribute("ry"))||0;if(s||f){let l=Math.min(s||f,f||s,r/2,o/2);this.doc.moveTo(n+l,a),this.doc.lineTo(n+r-l,a),this.doc.bezierCurveTo(n+r-l*.45,a,n+r,a+l*.45,n+r,a+l),this.doc.lineTo(n+r,a+o-l),this.doc.bezierCurveTo(n+r,a+o-l*.45,n+r-l*.45,a+o,n+r-l,a+o),this.doc.lineTo(n+l,a+o),this.doc.bezierCurveTo(n+l*.45,a+o,n,a+o-l*.45,n,a+o-l),this.doc.lineTo(n,a+l),this.doc.bezierCurveTo(n,a+l*.45,n+l*.45,a,n+l,a),this.doc.closePath()}else this.doc.rect(n,a,r,o);this.applyStyle(t)}drawCircle(i,t){let n=parseFloat(i.getAttribute("cx"))||0,a=parseFloat(i.getAttribute("cy"))||0,r=parseFloat(i.getAttribute("r"))||0;this.doc.circle(n,a,r),this.applyStyle(t)}drawEllipse(i,t){let n=parseFloat(i.getAttribute("cx"))||0,a=parseFloat(i.getAttribute("cy"))||0,r=parseFloat(i.getAttribute("rx"))||0,o=parseFloat(i.getAttribute("ry"))||0;this.doc.ellipse(n,a,r,o),this.applyStyle(t)}drawPath(i,t){let n=i.getAttribute("d");n&&(wt.apply(this.doc,n),this.applyStyle(t))}drawLine(i,t){let n=parseFloat(i.getAttribute("x1"))||0,a=parseFloat(i.getAttribute("y1"))||0,r=parseFloat(i.getAttribute("x2"))||0,o=parseFloat(i.getAttribute("y2"))||0;this.doc.moveTo(n,a),this.doc.lineTo(r,o),this.applyStyle(t,!0)}drawPolyline(i,t){let n=this.parsePoints(i.getAttribute("points"));if(!(n.length<2)){this.doc.moveTo(n[0],n[1]);for(let a=2;a<n.length;a+=2)this.doc.lineTo(n[a],n[a+1]);this.applyStyle(t,!0)}}drawPolygon(i,t){let n=this.parsePoints(i.getAttribute("points"));if(!(n.length<2)){this.doc.moveTo(n[0],n[1]);for(let a=2;a<n.length;a+=2)this.doc.lineTo(n[a],n[a+1]);this.doc.closePath(),this.applyStyle(t)}}parsePoints(i){return i?i.trim().split(/[\s,]+/).map(parseFloat):[]}applyStyle(i,t=!1){let n=i.fill!==void 0?i.fill:"black",a=i.stroke,r=parseFloat(i["fill-opacity"]||1),o=parseFloat(i["stroke-opacity"]||1),s=parseFloat(i["stroke-width"]||1),f=i["fill-rule"]||"nonzero",l=!1,h=!1;n&&n!=="none"&&!t&&(this.applyColor(n,"fill"),this.doc.fillOpacity(r),l=!0),a&&a!=="none"&&(this.applyColor(a,"stroke"),this.doc.strokeOpacity(o),this.doc.lineWidth(s),h=!0),l&&h?this.doc.fillAndStroke(f):l?this.doc.fill(f):h&&this.doc.stroke()}applyColor(i,t){if(this.options.colorCallback){let n=this.options.colorCallback(i);if(n){if(typeof n=="object"&&n.c!==void 0){t==="fill"?this.doc.fillColorCMYK(n.c,n.m,n.y,n.k):this.doc.strokeColorCMYK(n.c,n.m,n.y,n.k);return}i=n}}if(this.options.spotColorMap&&this.options.spotColorMap[i]){let n=this.options.spotColorMap[i];t==="fill"?this.doc.fillSpotColor(n.name,n.tint||1):this.doc.strokeSpotColor(n.name,n.tint||1);return}if(this.options.useCMYK){let n=i.toLowerCase();if(n==="white"||n==="#ffffff"||n==="#fff"||n==="rgb(255,255,255)"||n==="rgb(255, 255, 255)"){t==="fill"?this.doc.fillColorCMYK(0,0,0,0):this.doc.strokeColorCMYK(0,0,0,0);return}let a=this.parseColor(i);if(a){let r=this.colorSpace.rgbToCMYK(a.r,a.g,a.b);t==="fill"?this.doc.fillColorCMYK(r.c*100,r.m*100,r.y*100,r.k*100):this.doc.strokeColorCMYK(r.c*100,r.m*100,r.y*100,r.k*100);return}}t==="fill"?this.doc.fillColor(i):this.doc.strokeColor(i)}parseColor(i){if(i.startsWith("#")){let a=i.slice(1),r=parseInt(a.substr(0,2),16)/255,o=parseInt(a.substr(2,2),16)/255,s=parseInt(a.substr(4,2),16)/255;return{r,g:o,b:s}}let t=i.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(t)return{r:parseInt(t[1])/255,g:parseInt(t[2])/255,b:parseInt(t[3])/255};let n={red:{r:1,g:0,b:0},green:{r:0,g:1,b:0},blue:{r:0,g:0,b:1},black:{r:0,g:0,b:0},white:{r:1,g:1,b:1},yellow:{r:1,g:1,b:0},cyan:{r:0,g:1,b:1},magenta:{r:1,g:0,b:1},gray:{r:.5,g:.5,b:.5},grey:{r:.5,g:.5,b:.5},orange:{r:1,g:.647,b:0},purple:{r:.5,g:0,b:.5}};return n[i.toLowerCase()]?n[i.toLowerCase()]:{r:0,g:0,b:0}}};var xt=class{constructor(){this.spotColors=new Map}rgbToCMYK(i,t,n){i=Math.max(0,Math.min(1,i)),t=Math.max(0,Math.min(1,t)),n=Math.max(0,Math.min(1,n));let a=1-Math.max(i,t,n);if(a===1)return{c:0,m:0,y:0,k:1};let r=(1-i-a)/(1-a),o=(1-t-a)/(1-a),s=(1-n-a)/(1-a);return{c:Math.max(0,Math.min(1,r)),m:Math.max(0,Math.min(1,o)),y:Math.max(0,Math.min(1,s)),k:Math.max(0,Math.min(1,a))}}rgbToLab(i,t,n){i=Math.max(0,Math.min(1,i)),t=Math.max(0,Math.min(1,t)),n=Math.max(0,Math.min(1,n));let a=this.rgbToXyz(i,t,n);return this.xyzToLab(a.x,a.y,a.z)}rgbToXyz(i,t,n){i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;let a=i*.4124564+t*.3575761+n*.1804375,r=i*.2126729+t*.7151522+n*.072175,o=i*.0193339+t*.119192+n*.9503041;return{x:a,y:r,z:o}}xyzToLab(i,t,n){i=i/.95047,t=t/1,n=n/1.08883;let s=i>.008856?Math.pow(i,1/3):7.787*i+16/116,f=t>.008856?Math.pow(t,1/3):7.787*t+16/116,l=n>.008856?Math.pow(n,1/3):7.787*n+16/116,h=116*f-16,p=500*(s-f),_=200*(f-l);return{L:Math.max(0,Math.min(100,h)),a:Math.max(-128,Math.min(127,p)),b:Math.max(-128,Math.min(127,_))}}labToXyz(i,t,n){let s=(i+16)/116,f=t/500+s,l=s-n/200,h=f>.206897?Math.pow(f,3):(f-16/116)/7.787,p=s>.206897?Math.pow(s,3):(s-16/116)/7.787,_=l>.206897?Math.pow(l,3):(l-16/116)/7.787;return{x:h*.95047,y:p*1,z:_*1.08883}}labToRgb(i,t,n){let a=this.labToXyz(i,t,n);return this.xyzToRgb(a.x,a.y,a.z)}xyzToRgb(i,t,n){let a=i*3.2404542+t*-1.5371385+n*-.4985314,r=i*-.969266+t*1.8760108+n*.041556,o=i*.0556434+t*-.2040259+n*1.0572252;return a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:12.92*a,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:12.92*o,{r:Math.max(0,Math.min(1,a)),g:Math.max(0,Math.min(1,r)),b:Math.max(0,Math.min(1,o))}}defineSpotColor(i,t){return this.spotColors.set(i,{name:i,fallback:{c:t.c/100,m:t.m/100,y:t.y/100,k:t.k/100}}),this}defineLabSpotColor(i,t){return this.spotColors.set(i,{name:i,type:"lab",fallback:{L:Math.max(0,Math.min(100,t.L)),a:Math.max(-128,Math.min(127,t.a)),b:Math.max(-128,Math.min(127,t.b))}}),this}defineLabSpotColorFromRgb(i,t,n,a){let r=this.rgbToLab(t/255,n/255,a/255);return this.defineLabSpotColor(i,r)}getSpotColor(i){return this.spotColors.get(i)}isSpotColor(i){return this.spotColors.has(i)}};var ie=class{constructor(i={}){this.width=i.width||595.28,this.height=i.height||841.89,this.colorSpace=new xt,this.writer=new te,this.currentColor={type:"rgb",r:0,g:0,b:0},this.currentStrokeColor={type:"rgb",r:0,g:0,b:0},this.currentLineWidth=1,this.currentOpacity={fill:1,stroke:1},this.spotColors=new Map,this.contentStream=[],this.resources={ColorSpace:{},Pattern:{},ExtGState:{}},this._ctm=[1,0,0,1,0,0],this._ctmStack=[]}addSVG(i,t,n,a={}){return ee(this,i,t,n,a),this}_formatNumber(i){return typeof i!="number"||!isFinite(i)?(console.warn(`Invalid number in PDF: ${i}, using 0`),"0"):Number(i.toFixed(6)).toString()}moveTo(i,t){return this.contentStream.push(`${this._formatNumber(i)} ${this._formatNumber(t)} m`),this}lineTo(i,t){return this.contentStream.push(`${this._formatNumber(i)} ${this._formatNumber(t)} l`),this}bezierCurveTo(i,t,n,a,r,o){return this.contentStream.push(`${this._formatNumber(i)} ${this._formatNumber(t)} ${this._formatNumber(n)} ${this._formatNumber(a)} ${this._formatNumber(r)} ${this._formatNumber(o)} c`),this}quadraticCurveTo(i,t,n,a){let r=i,o=t,s=i,f=t;return this.bezierCurveTo(r,o,s,f,n,a)}closePath(){return this.contentStream.push("h"),this}rect(i,t,n,a){return this.contentStream.push(`${this._formatNumber(i)} ${this._formatNumber(t)} ${this._formatNumber(n)} ${this._formatNumber(a)} re`),this}circle(i,t,n){let a=.5522847498,r=n*a,o=n*a;return this.moveTo(i-n,t),this.bezierCurveTo(i-n,t+o,i-r,t+n,i,t+n),this.bezierCurveTo(i+r,t+n,i+n,t+o,i+n,t),this.bezierCurveTo(i+n,t-o,i+r,t-n,i,t-n),this.bezierCurveTo(i-r,t-n,i-n,t-o,i-n,t),this.closePath(),this}ellipse(i,t,n,a){let r=.5522847498,o=n*r,s=a*r;return this.moveTo(i-n,t),this.bezierCurveTo(i-n,t+s,i-o,t+a,i,t+a),this.bezierCurveTo(i+o,t+a,i+n,t+s,i+n,t),this.bezierCurveTo(i+n,t-s,i+o,t-a,i,t-a),this.bezierCurveTo(i-o,t-a,i-n,t-s,i-n,t),this.closePath(),this}fill(i){return this._setFillColor(),this._setFillOpacity(),this.contentStream.push(i==="evenodd"?"f*":"f"),this}stroke(){return this._setStrokeColor(),this._setStrokeOpacity(),this._setLineWidth(),this.contentStream.push("S"),this}fillAndStroke(i){return this._setFillColor(),this._setStrokeColor(),this._setFillOpacity(),this._setStrokeOpacity(),this._setLineWidth(),this.contentStream.push(i==="evenodd"?"B*":"B"),this}lineWidth(i){return this.currentLineWidth=i,this}fillOpacity(i){return this.currentOpacity.fill=i,this}strokeOpacity(i){return this.currentOpacity.stroke=i,this}opacity(i){return this.currentOpacity.fill=i,this.currentOpacity.stroke=i,this}fillColor(i,t,n){if(typeof i=="string"){let a=this._parseColor(i);this.currentColor=a}else this.currentColor={type:"rgb",r:i/255,g:t/255,b:n/255};return this}strokeColor(i,t,n){if(typeof i=="string"){let a=this._parseColor(i);this.currentStrokeColor=a}else this.currentStrokeColor={type:"rgb",r:i/255,g:t/255,b:n/255};return this}fillColorCMYK(i,t,n,a){return this.currentColor={type:"cmyk",c:i/100,m:t/100,y:n/100,k:a/100},this}strokeColorCMYK(i,t,n,a){return this.currentStrokeColor={type:"cmyk",c:i/100,m:t/100,y:n/100,k:a/100},this}fillColorLab(i,t,n){return this.currentColor={type:"lab",L:Math.max(0,Math.min(100,i)),a:Math.max(-128,Math.min(127,t)),b:Math.max(-128,Math.min(127,n))},this}strokeColorLab(i,t,n){return this.currentStrokeColor={type:"lab",L:Math.max(0,Math.min(100,i)),a:Math.max(-128,Math.min(127,t)),b:Math.max(-128,Math.min(127,n))},this}defineSpotColor(i,t){let n={name:i,fallback:{c:t.c/100,m:t.m/100,y:t.y/100,k:t.k/100}};this.spotColors.set(i,n);let a=`CS${Object.keys(this.resources.ColorSpace).length+1}`;return this.resources.ColorSpace[a]={type:"Separation",name:i,alternateSpace:"DeviceCMYK",tintTransform:n.fallback},n.resourceName=a,this}defineSpotColorCMYK(i,t,n,a,r){return this.defineSpotColor(i,{c:t,m:n,y:a,k:r})}defineLabSpotColor(i,t){let n={name:i,type:"lab",fallback:{L:Math.max(0,Math.min(100,t.L)),a:Math.max(-128,Math.min(127,t.a)),b:Math.max(-128,Math.min(127,t.b))}};this.spotColors.set(i,n);let a=`CS${Object.keys(this.resources.ColorSpace).length+1}`;return this.resources.ColorSpace[a]={type:"Lab",name:i,alternateSpace:"Lab",labFallback:n.fallback},n.resourceName=a,this}defineLabSpotColorLab(i,t,n,a){return this.defineLabSpotColor(i,{L:t,a:n,b:a})}fillSpotColor(i,t=1){let n=this.spotColors.get(i);return n&&(this.currentColor={type:"spot",name:i,tint:t,spotColor:n}),this}strokeSpotColor(i,t=1){let n=this.spotColors.get(i);return n&&(this.currentStrokeColor={type:"spot",name:i,tint:t,spotColor:n}),this}save(){return this.contentStream.push("q"),this._ctmStack.push([...this._ctm]),this}restore(){return this.contentStream.push("Q"),this._ctmStack.length>0&&(this._ctm=this._ctmStack.pop()),this}translate(i,t){return this.transform(1,0,0,1,i,t),this}scale(i,t=i){return this.transform(i,0,0,t,0,0),this}rotate(i,t=0,n=0){let a=Math.cos(i),r=Math.sin(i);return t!==0||n!==0?(this.translate(t,n),this.transform(a,r,-r,a,0,0),this.translate(-t,-n)):this.transform(a,r,-r,a,0,0),this}transform(i,t,n,a,r,o){this.contentStream.push(`${this._formatNumber(i)} ${this._formatNumber(t)} ${this._formatNumber(n)} ${this._formatNumber(a)} ${this._formatNumber(r)} ${this._formatNumber(o)} cm`);let[s,f,l,h,p,_]=this._ctm;return this._ctm=[i*s+t*l,i*f+t*h,n*s+a*l,n*f+a*h,r*s+o*l+p,r*f+o*h+_],this}end(){return this.writer.generatePDF(this)}_setFillColor(){this._setColor(this.currentColor,"fill")}_setStrokeColor(){this._setColor(this.currentStrokeColor,"stroke")}_setLineWidth(){this.contentStream.push(`${this._formatNumber(this.currentLineWidth)} w`)}_setFillOpacity(){if(this.currentOpacity.fill<1){let i=this._getOpacityGState("fill",this.currentOpacity.fill);this.contentStream.push(`/${i} gs`)}}_setStrokeOpacity(){if(this.currentOpacity.stroke<1){let i=this._getOpacityGState("stroke",this.currentOpacity.stroke);this.contentStream.push(`/${i} gs`)}}_getOpacityGState(i,t){let n=`${i}_${t}`;return this.resources.ExtGState[n]||(this.resources.ExtGState[n]={[i==="fill"?"ca":"CA"]:t}),n}_ensureLabColorSpace(){for(let[t,n]of Object.entries(this.resources.ColorSpace))if(n.type==="Lab"&&!n.name)return t;let i=`LAB${Object.keys(this.resources.ColorSpace).length+1}`;return this.resources.ColorSpace[i]={type:"Lab",whitePoint:[.95047,1,1.08883],range:[0,100,-128,127,-128,127]},i}_setColor(i,t){switch(i.type){case"rgb":this.contentStream.push(`${this._formatNumber(i.r)} ${this._formatNumber(i.g)} ${this._formatNumber(i.b)} ${t==="fill"?"rg":"RG"}`);break;case"cmyk":this.contentStream.push(`${this._formatNumber(i.c)} ${this._formatNumber(i.m)} ${this._formatNumber(i.y)} ${this._formatNumber(i.k)} ${t==="fill"?"k":"K"}`);break;case"lab":let n=this._ensureLabColorSpace();this.contentStream.push(`/${n} ${t==="fill"?"cs":"CS"}`,`${this._formatNumber(i.L/100)} ${this._formatNumber((i.a+128)/255)} ${this._formatNumber((i.b+128)/255)} ${t==="fill"?"scn":"SCN"}`);break;case"spot":let a=i.spotColor.resourceName;this.contentStream.push(`/${a} ${t==="fill"?"cs":"CS"}`,`${this._formatNumber(i.tint)} ${t==="fill"?"scn":"SCN"}`);break}}_parseColor(i){if(i.startsWith("#")){let a=i.slice(1),r=parseInt(a.substr(0,2),16)/255,o=parseInt(a.substr(2,2),16)/255,s=parseInt(a.substr(4,2),16)/255;return{type:"rgb",r,g:o,b:s}}let t=i.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(t)return{type:"rgb",r:parseInt(t[1])/255,g:parseInt(t[2])/255,b:parseInt(t[3])/255};let n={red:{r:1,g:0,b:0},green:{r:0,g:1,b:0},blue:{r:0,g:0,b:1},black:{r:0,g:0,b:0},white:{r:1,g:1,b:1},yellow:{r:1,g:1,b:0},cyan:{r:0,g:1,b:1},magenta:{r:1,g:0,b:1}};return n[i]?Ut({type:"rgb"},n[i]):{type:"rgb",r:0,g:0,b:0}}};return bn(_o);})();
/*! Bundled license information:

pako/dist/pako.esm.mjs:
  (*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) *)
*/
