var PDFSvg=(()=>{var Ut=Object.defineProperty;var cn=Object.getOwnPropertyDescriptor;var _n=Object.getOwnPropertyNames,Me=Object.getOwnPropertySymbols;var Ze=Object.prototype.hasOwnProperty,dn=Object.prototype.propertyIsEnumerable;var Ie=(t,i,e)=>i in t?Ut(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,Yt=(t,i)=>{for(var e in i||(i={}))Ze.call(i,e)&&Ie(t,e,i[e]);if(Me)for(var e of Me(i))dn.call(i,e)&&Ie(t,e,i[e]);return t};var un=(t,i)=>{for(var e in i)Ut(t,e,{get:i[e],enumerable:!0})},bn=(t,i,e,n)=>{if(i&&typeof i=="object"||typeof i=="function")for(let a of _n(i))!Ze.call(t,a)&&a!==e&&Ut(t,a,{get:()=>i[a],enumerable:!(n=cn(i,a))||n.enumerable});return t};var pn=t=>bn(Ut({},"__esModule",{value:!0}),t);var _o={};un(_o,{ColorSpace:()=>kt,PDFDocument:()=>ie,SVGParser:()=>gt,SVGPath:()=>mt,SVGtoPDF:()=>ee});function bt(t){let i=t.length;for(;--i>=0;)t[i]=0}var wn=0,vi=1,gn=2,mn=3,kn=258,Ee=29,It=256,At=It+1+Ee,_t=30,Te=19,yi=2*At+1,tt=15,ne=16,xn=7,Ae=256,Ci=16,Si=17,Ei=18,we=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Kt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),vn=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Ti=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yn=512,K=new Array((At+2)*2);bt(K);var St=new Array(_t*2);bt(St);var zt=new Array(yn);bt(zt);var Rt=new Array(kn-mn+1);bt(Rt);var ze=new Array(Ee);bt(ze);var Gt=new Array(_t);bt(Gt);function ae(t,i,e,n,a){this.static_tree=t,this.extra_bits=i,this.extra_base=e,this.elems=n,this.max_length=a,this.has_stree=t&&t.length}var Ai,zi,Ri;function re(t,i){this.dyn_tree=t,this.max_code=0,this.stat_desc=i}var Ni=t=>t<256?zt[t]:zt[256+(t>>>7)],Nt=(t,i)=>{t.pending_buf[t.pending++]=i&255,t.pending_buf[t.pending++]=i>>>8&255},D=(t,i,e)=>{t.bi_valid>ne-e?(t.bi_buf|=i<<t.bi_valid&65535,Nt(t,t.bi_buf),t.bi_buf=i>>ne-t.bi_valid,t.bi_valid+=e-ne):(t.bi_buf|=i<<t.bi_valid&65535,t.bi_valid+=e)},Y=(t,i,e)=>{D(t,e[i*2],e[i*2+1])},Oi=(t,i)=>{let e=0;do e|=t&1,t>>>=1,e<<=1;while(--i>0);return e>>>1},Cn=t=>{t.bi_valid===16?(Nt(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},Sn=(t,i)=>{let e=i.dyn_tree,n=i.max_code,a=i.stat_desc.static_tree,r=i.stat_desc.has_stree,o=i.stat_desc.extra_bits,l=i.stat_desc.extra_base,_=i.stat_desc.max_length,s,h,b,c,f,u,E=0;for(c=0;c<=tt;c++)t.bl_count[c]=0;for(e[t.heap[t.heap_max]*2+1]=0,s=t.heap_max+1;s<yi;s++)h=t.heap[s],c=e[e[h*2+1]*2+1]+1,c>_&&(c=_,E++),e[h*2+1]=c,!(h>n)&&(t.bl_count[c]++,f=0,h>=l&&(f=o[h-l]),u=e[h*2],t.opt_len+=u*(c+f),r&&(t.static_len+=u*(a[h*2+1]+f)));if(E!==0){do{for(c=_-1;t.bl_count[c]===0;)c--;t.bl_count[c]--,t.bl_count[c+1]+=2,t.bl_count[_]--,E-=2}while(E>0);for(c=_;c!==0;c--)for(h=t.bl_count[c];h!==0;)b=t.heap[--s],!(b>n)&&(e[b*2+1]!==c&&(t.opt_len+=(c-e[b*2+1])*e[b*2],e[b*2+1]=c),h--)}},$i=(t,i,e)=>{let n=new Array(tt+1),a=0,r,o;for(r=1;r<=tt;r++)a=a+e[r-1]<<1,n[r]=a;for(o=0;o<=i;o++){let l=t[o*2+1];l!==0&&(t[o*2]=Oi(n[l]++,l))}},En=()=>{let t,i,e,n,a,r=new Array(tt+1);for(e=0,n=0;n<Ee-1;n++)for(ze[n]=e,t=0;t<1<<we[n];t++)Rt[e++]=n;for(Rt[e-1]=n,a=0,n=0;n<16;n++)for(Gt[n]=a,t=0;t<1<<Kt[n];t++)zt[a++]=n;for(a>>=7;n<_t;n++)for(Gt[n]=a<<7,t=0;t<1<<Kt[n]-7;t++)zt[256+a++]=n;for(i=0;i<=tt;i++)r[i]=0;for(t=0;t<=143;)K[t*2+1]=8,t++,r[8]++;for(;t<=255;)K[t*2+1]=9,t++,r[9]++;for(;t<=279;)K[t*2+1]=7,t++,r[7]++;for(;t<=287;)K[t*2+1]=8,t++,r[8]++;for($i(K,At+1,r),t=0;t<_t;t++)St[t*2+1]=5,St[t*2]=Oi(t,5);Ai=new ae(K,we,It+1,At,tt),zi=new ae(St,Kt,0,_t,tt),Ri=new ae(new Array(0),vn,0,Te,xn)},Di=t=>{let i;for(i=0;i<At;i++)t.dyn_ltree[i*2]=0;for(i=0;i<_t;i++)t.dyn_dtree[i*2]=0;for(i=0;i<Te;i++)t.bl_tree[i*2]=0;t.dyn_ltree[Ae*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},Mi=t=>{t.bi_valid>8?Nt(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},Fe=(t,i,e,n)=>{let a=i*2,r=e*2;return t[a]<t[r]||t[a]===t[r]&&n[i]<=n[e]},oe=(t,i,e)=>{let n=t.heap[e],a=e<<1;for(;a<=t.heap_len&&(a<t.heap_len&&Fe(i,t.heap[a+1],t.heap[a],t.depth)&&a++,!Fe(i,n,t.heap[a],t.depth));)t.heap[e]=t.heap[a],e=a,a<<=1;t.heap[e]=n},Le=(t,i,e)=>{let n,a,r=0,o,l;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+r++]&255,n+=(t.pending_buf[t.sym_buf+r++]&255)<<8,a=t.pending_buf[t.sym_buf+r++],n===0?Y(t,a,i):(o=Rt[a],Y(t,o+It+1,i),l=we[o],l!==0&&(a-=ze[o],D(t,a,l)),n--,o=Ni(n),Y(t,o,e),l=Kt[o],l!==0&&(n-=Gt[o],D(t,n,l)));while(r<t.sym_next);Y(t,Ae,i)},ge=(t,i)=>{let e=i.dyn_tree,n=i.stat_desc.static_tree,a=i.stat_desc.has_stree,r=i.stat_desc.elems,o,l,_=-1,s;for(t.heap_len=0,t.heap_max=yi,o=0;o<r;o++)e[o*2]!==0?(t.heap[++t.heap_len]=_=o,t.depth[o]=0):e[o*2+1]=0;for(;t.heap_len<2;)s=t.heap[++t.heap_len]=_<2?++_:0,e[s*2]=1,t.depth[s]=0,t.opt_len--,a&&(t.static_len-=n[s*2+1]);for(i.max_code=_,o=t.heap_len>>1;o>=1;o--)oe(t,e,o);s=r;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],oe(t,e,1),l=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=l,e[s*2]=e[o*2]+e[l*2],t.depth[s]=(t.depth[o]>=t.depth[l]?t.depth[o]:t.depth[l])+1,e[o*2+1]=e[l*2+1]=s,t.heap[1]=s++,oe(t,e,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],Sn(t,i),$i(e,_,t.bl_count)},Ue=(t,i,e)=>{let n,a=-1,r,o=i[0*2+1],l=0,_=7,s=4;for(o===0&&(_=138,s=3),i[(e+1)*2+1]=65535,n=0;n<=e;n++)r=o,o=i[(n+1)*2+1],!(++l<_&&r===o)&&(l<s?t.bl_tree[r*2]+=l:r!==0?(r!==a&&t.bl_tree[r*2]++,t.bl_tree[Ci*2]++):l<=10?t.bl_tree[Si*2]++:t.bl_tree[Ei*2]++,l=0,a=r,o===0?(_=138,s=3):r===o?(_=6,s=3):(_=7,s=4))},Ye=(t,i,e)=>{let n,a=-1,r,o=i[0*2+1],l=0,_=7,s=4;for(o===0&&(_=138,s=3),n=0;n<=e;n++)if(r=o,o=i[(n+1)*2+1],!(++l<_&&r===o)){if(l<s)do Y(t,r,t.bl_tree);while(--l!==0);else r!==0?(r!==a&&(Y(t,r,t.bl_tree),l--),Y(t,Ci,t.bl_tree),D(t,l-3,2)):l<=10?(Y(t,Si,t.bl_tree),D(t,l-3,3)):(Y(t,Ei,t.bl_tree),D(t,l-11,7));l=0,a=r,o===0?(_=138,s=3):r===o?(_=6,s=3):(_=7,s=4)}},Tn=t=>{let i;for(Ue(t,t.dyn_ltree,t.l_desc.max_code),Ue(t,t.dyn_dtree,t.d_desc.max_code),ge(t,t.bl_desc),i=Te-1;i>=3&&t.bl_tree[Ti[i]*2+1]===0;i--);return t.opt_len+=3*(i+1)+5+5+4,i},An=(t,i,e,n)=>{let a;for(D(t,i-257,5),D(t,e-1,5),D(t,n-4,4),a=0;a<n;a++)D(t,t.bl_tree[Ti[a]*2+1],3);Ye(t,t.dyn_ltree,i-1),Ye(t,t.dyn_dtree,e-1)},zn=t=>{let i=4093624447,e;for(e=0;e<=31;e++,i>>>=1)if(i&1&&t.dyn_ltree[e*2]!==0)return 0;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return 1;for(e=32;e<It;e++)if(t.dyn_ltree[e*2]!==0)return 1;return 0},Pe=!1,Rn=t=>{Pe||(En(),Pe=!0),t.l_desc=new re(t.dyn_ltree,Ai),t.d_desc=new re(t.dyn_dtree,zi),t.bl_desc=new re(t.bl_tree,Ri),t.bi_buf=0,t.bi_valid=0,Di(t)},Ii=(t,i,e,n)=>{D(t,(wn<<1)+(n?1:0),3),Mi(t),Nt(t,e),Nt(t,~e),e&&t.pending_buf.set(t.window.subarray(i,i+e),t.pending),t.pending+=e},Nn=t=>{D(t,vi<<1,3),Y(t,Ae,K),Cn(t)},On=(t,i,e,n)=>{let a,r,o=0;t.level>0?(t.strm.data_type===2&&(t.strm.data_type=zn(t)),ge(t,t.l_desc),ge(t,t.d_desc),o=Tn(t),a=t.opt_len+3+7>>>3,r=t.static_len+3+7>>>3,r<=a&&(a=r)):a=r=e+5,e+4<=a&&i!==-1?Ii(t,i,e,n):t.strategy===4||r===a?(D(t,(vi<<1)+(n?1:0),3),Le(t,K,St)):(D(t,(gn<<1)+(n?1:0),3),An(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),Le(t,t.dyn_ltree,t.dyn_dtree)),Di(t),n&&Mi(t)},$n=(t,i,e)=>(t.pending_buf[t.sym_buf+t.sym_next++]=i,t.pending_buf[t.sym_buf+t.sym_next++]=i>>8,t.pending_buf[t.sym_buf+t.sym_next++]=e,i===0?t.dyn_ltree[e*2]++:(t.matches++,i--,t.dyn_ltree[(Rt[e]+It+1)*2]++,t.dyn_dtree[Ni(i)*2]++),t.sym_next===t.sym_end),Dn=Rn,Mn=Ii,In=On,Zn=$n,Fn=Nn,Ln={_tr_init:Dn,_tr_stored_block:Mn,_tr_flush_block:In,_tr_tally:Zn,_tr_align:Fn},Un=(t,i,e,n)=>{let a=t&65535|0,r=t>>>16&65535|0,o=0;for(;e!==0;){o=e>2e3?2e3:e,e-=o;do a=a+i[n++]|0,r=r+a|0;while(--o);a%=65521,r%=65521}return a|r<<16|0},Ot=Un,Yn=()=>{let t,i=[];for(var e=0;e<256;e++){t=e;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;i[e]=t}return i},Pn=new Uint32Array(Yn()),Hn=(t,i,e,n)=>{let a=Pn,r=n+e;t^=-1;for(let o=n;o<r;o++)t=t>>>8^a[(t^i[o])&255];return t^-1},N=Hn,nt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ot={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:Xn,_tr_stored_block:me,_tr_flush_block:jn,_tr_tally:V,_tr_align:Bn}=Ln,{Z_NO_FLUSH:Q,Z_PARTIAL_FLUSH:Kn,Z_FULL_FLUSH:Gn,Z_FINISH:Z,Z_BLOCK:He,Z_OK:O,Z_STREAM_END:Xe,Z_STREAM_ERROR:P,Z_DATA_ERROR:Wn,Z_BUF_ERROR:se,Z_DEFAULT_COMPRESSION:qn,Z_FILTERED:Vn,Z_HUFFMAN_ONLY:Pt,Z_RLE:Qn,Z_FIXED:Jn,Z_DEFAULT_STRATEGY:ta,Z_UNKNOWN:ea,Z_DEFLATED:Vt}=ot,ia=9,na=15,aa=8,ra=29,oa=256,ke=oa+1+ra,sa=30,la=19,ha=2*ke+1,fa=15,C=3,q=258,H=q+C+1,ca=32,dt=42,Re=57,xe=69,ve=73,ye=91,Ce=103,et=113,yt=666,$=1,pt=2,at=3,wt=4,_a=3,it=(t,i)=>(t.msg=nt[i],i),je=t=>t*2-(t>4?9:0),W=t=>{let i=t.length;for(;--i>=0;)t[i]=0},da=t=>{let i,e,n,a=t.w_size;i=t.hash_size,n=i;do e=t.head[--n],t.head[n]=e>=a?e-a:0;while(--i);i=a,n=i;do e=t.prev[--n],t.prev[n]=e>=a?e-a:0;while(--i)},ua=(t,i,e)=>(i<<t.hash_shift^e)&t.hash_mask,J=ua,M=t=>{let i=t.state,e=i.pending;e>t.avail_out&&(e=t.avail_out),e!==0&&(t.output.set(i.pending_buf.subarray(i.pending_out,i.pending_out+e),t.next_out),t.next_out+=e,i.pending_out+=e,t.total_out+=e,t.avail_out-=e,i.pending-=e,i.pending===0&&(i.pending_out=0))},I=(t,i)=>{jn(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,i),t.block_start=t.strstart,M(t.strm)},T=(t,i)=>{t.pending_buf[t.pending++]=i},vt=(t,i)=>{t.pending_buf[t.pending++]=i>>>8&255,t.pending_buf[t.pending++]=i&255},Se=(t,i,e,n)=>{let a=t.avail_in;return a>n&&(a=n),a===0?0:(t.avail_in-=a,i.set(t.input.subarray(t.next_in,t.next_in+a),e),t.state.wrap===1?t.adler=Ot(t.adler,i,a,e):t.state.wrap===2&&(t.adler=N(t.adler,i,a,e)),t.next_in+=a,t.total_in+=a,a)},Zi=(t,i)=>{let e=t.max_chain_length,n=t.strstart,a,r,o=t.prev_length,l=t.nice_match,_=t.strstart>t.w_size-H?t.strstart-(t.w_size-H):0,s=t.window,h=t.w_mask,b=t.prev,c=t.strstart+q,f=s[n+o-1],u=s[n+o];t.prev_length>=t.good_match&&(e>>=2),l>t.lookahead&&(l=t.lookahead);do if(a=i,!(s[a+o]!==u||s[a+o-1]!==f||s[a]!==s[n]||s[++a]!==s[n+1])){n+=2,a++;do;while(s[++n]===s[++a]&&s[++n]===s[++a]&&s[++n]===s[++a]&&s[++n]===s[++a]&&s[++n]===s[++a]&&s[++n]===s[++a]&&s[++n]===s[++a]&&s[++n]===s[++a]&&n<c);if(r=q-(c-n),n=c-q,r>o){if(t.match_start=i,o=r,r>=l)break;f=s[n+o-1],u=s[n+o]}}while((i=b[i&h])>_&&--e!==0);return o<=t.lookahead?o:t.lookahead},ut=t=>{let i=t.w_size,e,n,a;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=i+(i-H)&&(t.window.set(t.window.subarray(i,i+i-n),0),t.match_start-=i,t.strstart-=i,t.block_start-=i,t.insert>t.strstart&&(t.insert=t.strstart),da(t),n+=i),t.strm.avail_in===0)break;if(e=Se(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=e,t.lookahead+t.insert>=C)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=J(t,t.ins_h,t.window[a+1]);t.insert&&(t.ins_h=J(t,t.ins_h,t.window[a+C-1]),t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<C)););}while(t.lookahead<H&&t.strm.avail_in!==0)},Fi=(t,i)=>{let e=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,a,r,o=0,l=t.strm.avail_in;do{if(n=65535,r=t.bi_valid+42>>3,t.strm.avail_out<r||(r=t.strm.avail_out-r,a=t.strstart-t.block_start,n>a+t.strm.avail_in&&(n=a+t.strm.avail_in),n>r&&(n=r),n<e&&(n===0&&i!==Z||i===Q||n!==a+t.strm.avail_in)))break;o=i===Z&&n===a+t.strm.avail_in?1:0,me(t,0,0,o),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,M(t.strm),a&&(a>n&&(a=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+a),t.strm.next_out),t.strm.next_out+=a,t.strm.avail_out-=a,t.strm.total_out+=a,t.block_start+=a,n-=a),n&&(Se(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(o===0);return l-=t.strm.avail_in,l&&(l>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=l&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-l,t.strm.next_in),t.strstart),t.strstart+=l,t.insert+=l>t.w_size-t.insert?t.w_size-t.insert:l),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?wt:i!==Q&&i!==Z&&t.strm.avail_in===0&&t.strstart===t.block_start?pt:(r=t.window_size-t.strstart,t.strm.avail_in>r&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,r+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),r>t.strm.avail_in&&(r=t.strm.avail_in),r&&(Se(t.strm,t.window,t.strstart,r),t.strstart+=r,t.insert+=r>t.w_size-t.insert?t.w_size-t.insert:r),t.high_water<t.strstart&&(t.high_water=t.strstart),r=t.bi_valid+42>>3,r=t.pending_buf_size-r>65535?65535:t.pending_buf_size-r,e=r>t.w_size?t.w_size:r,a=t.strstart-t.block_start,(a>=e||(a||i===Z)&&i!==Q&&t.strm.avail_in===0&&a<=r)&&(n=a>r?r:a,o=i===Z&&t.strm.avail_in===0&&n===a?1:0,me(t,t.block_start,n,o),t.block_start+=n,M(t.strm)),o?at:$)},le=(t,i)=>{let e,n;for(;;){if(t.lookahead<H){if(ut(t),t.lookahead<H&&i===Q)return $;if(t.lookahead===0)break}if(e=0,t.lookahead>=C&&(t.ins_h=J(t,t.ins_h,t.window[t.strstart+C-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),e!==0&&t.strstart-e<=t.w_size-H&&(t.match_length=Zi(t,e)),t.match_length>=C)if(n=V(t,t.strstart-t.match_start,t.match_length-C),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=C){t.match_length--;do t.strstart++,t.ins_h=J(t,t.ins_h,t.window[t.strstart+C-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=J(t,t.ins_h,t.window[t.strstart+1]);else n=V(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(I(t,!1),t.strm.avail_out===0))return $}return t.insert=t.strstart<C-1?t.strstart:C-1,i===Z?(I(t,!0),t.strm.avail_out===0?at:wt):t.sym_next&&(I(t,!1),t.strm.avail_out===0)?$:pt},ft=(t,i)=>{let e,n,a;for(;;){if(t.lookahead<H){if(ut(t),t.lookahead<H&&i===Q)return $;if(t.lookahead===0)break}if(e=0,t.lookahead>=C&&(t.ins_h=J(t,t.ins_h,t.window[t.strstart+C-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=C-1,e!==0&&t.prev_length<t.max_lazy_match&&t.strstart-e<=t.w_size-H&&(t.match_length=Zi(t,e),t.match_length<=5&&(t.strategy===Vn||t.match_length===C&&t.strstart-t.match_start>4096)&&(t.match_length=C-1)),t.prev_length>=C&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-C,n=V(t,t.strstart-1-t.prev_match,t.prev_length-C),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=a&&(t.ins_h=J(t,t.ins_h,t.window[t.strstart+C-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=C-1,t.strstart++,n&&(I(t,!1),t.strm.avail_out===0))return $}else if(t.match_available){if(n=V(t,0,t.window[t.strstart-1]),n&&I(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return $}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=V(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<C-1?t.strstart:C-1,i===Z?(I(t,!0),t.strm.avail_out===0?at:wt):t.sym_next&&(I(t,!1),t.strm.avail_out===0)?$:pt},ba=(t,i)=>{let e,n,a,r,o=t.window;for(;;){if(t.lookahead<=q){if(ut(t),t.lookahead<=q&&i===Q)return $;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=C&&t.strstart>0&&(a=t.strstart-1,n=o[a],n===o[++a]&&n===o[++a]&&n===o[++a])){r=t.strstart+q;do;while(n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&a<r);t.match_length=q-(r-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=C?(e=V(t,1,t.match_length-C),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(e=V(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),e&&(I(t,!1),t.strm.avail_out===0))return $}return t.insert=0,i===Z?(I(t,!0),t.strm.avail_out===0?at:wt):t.sym_next&&(I(t,!1),t.strm.avail_out===0)?$:pt},pa=(t,i)=>{let e;for(;;){if(t.lookahead===0&&(ut(t),t.lookahead===0)){if(i===Q)return $;break}if(t.match_length=0,e=V(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,e&&(I(t,!1),t.strm.avail_out===0))return $}return t.insert=0,i===Z?(I(t,!0),t.strm.avail_out===0?at:wt):t.sym_next&&(I(t,!1),t.strm.avail_out===0)?$:pt};function U(t,i,e,n,a){this.good_length=t,this.max_lazy=i,this.nice_length=e,this.max_chain=n,this.func=a}var Ct=[new U(0,0,0,0,Fi),new U(4,4,8,4,le),new U(4,5,16,8,le),new U(4,6,32,32,le),new U(4,4,16,16,ft),new U(8,16,32,32,ft),new U(8,16,128,128,ft),new U(8,32,128,256,ft),new U(32,128,258,1024,ft),new U(32,258,258,4096,ft)],wa=t=>{t.window_size=2*t.w_size,W(t.head),t.max_lazy_match=Ct[t.level].max_lazy,t.good_match=Ct[t.level].good_length,t.nice_match=Ct[t.level].nice_length,t.max_chain_length=Ct[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=C-1,t.match_available=0,t.ins_h=0};function ga(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Vt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(ha*2),this.dyn_dtree=new Uint16Array((2*sa+1)*2),this.bl_tree=new Uint16Array((2*la+1)*2),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(fa+1),this.heap=new Uint16Array(2*ke+1),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ke+1),W(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Zt=t=>{if(!t)return 1;let i=t.state;return!i||i.strm!==t||i.status!==dt&&i.status!==Re&&i.status!==xe&&i.status!==ve&&i.status!==ye&&i.status!==Ce&&i.status!==et&&i.status!==yt?1:0},Li=t=>{if(Zt(t))return it(t,P);t.total_in=t.total_out=0,t.data_type=ea;let i=t.state;return i.pending=0,i.pending_out=0,i.wrap<0&&(i.wrap=-i.wrap),i.status=i.wrap===2?Re:i.wrap?dt:et,t.adler=i.wrap===2?0:1,i.last_flush=-2,Xn(i),O},Ui=t=>{let i=Li(t);return i===O&&wa(t.state),i},ma=(t,i)=>Zt(t)||t.state.wrap!==2?P:(t.state.gzhead=i,O),Yi=(t,i,e,n,a,r)=>{if(!t)return P;let o=1;if(i===qn&&(i=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),a<1||a>ia||e!==Vt||n<8||n>15||i<0||i>9||r<0||r>Jn||n===8&&o!==1)return it(t,P);n===8&&(n=9);let l=new ga;return t.state=l,l.strm=t,l.status=dt,l.wrap=o,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+C-1)/C),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=i,l.strategy=r,l.method=e,Ui(t)},ka=(t,i)=>Yi(t,i,Vt,na,aa,ta),xa=(t,i)=>{if(Zt(t)||i>He||i<0)return t?it(t,P):P;let e=t.state;if(!t.output||t.avail_in!==0&&!t.input||e.status===yt&&i!==Z)return it(t,t.avail_out===0?se:P);let n=e.last_flush;if(e.last_flush=i,e.pending!==0){if(M(t),t.avail_out===0)return e.last_flush=-1,O}else if(t.avail_in===0&&je(i)<=je(n)&&i!==Z)return it(t,se);if(e.status===yt&&t.avail_in!==0)return it(t,se);if(e.status===dt&&e.wrap===0&&(e.status=et),e.status===dt){let a=Vt+(e.w_bits-8<<4)<<8,r=-1;if(e.strategy>=Pt||e.level<2?r=0:e.level<6?r=1:e.level===6?r=2:r=3,a|=r<<6,e.strstart!==0&&(a|=ca),a+=31-a%31,vt(e,a),e.strstart!==0&&(vt(e,t.adler>>>16),vt(e,t.adler&65535)),t.adler=1,e.status=et,M(t),e.pending!==0)return e.last_flush=-1,O}if(e.status===Re){if(t.adler=0,T(e,31),T(e,139),T(e,8),e.gzhead)T(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),T(e,e.gzhead.time&255),T(e,e.gzhead.time>>8&255),T(e,e.gzhead.time>>16&255),T(e,e.gzhead.time>>24&255),T(e,e.level===9?2:e.strategy>=Pt||e.level<2?4:0),T(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(T(e,e.gzhead.extra.length&255),T(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(t.adler=N(t.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=xe;else if(T(e,0),T(e,0),T(e,0),T(e,0),T(e,0),T(e,e.level===9?2:e.strategy>=Pt||e.level<2?4:0),T(e,_a),e.status=et,M(t),e.pending!==0)return e.last_flush=-1,O}if(e.status===xe){if(e.gzhead.extra){let a=e.pending,r=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+r>e.pending_buf_size;){let l=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+l),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>a&&(t.adler=N(t.adler,e.pending_buf,e.pending-a,a)),e.gzindex+=l,M(t),e.pending!==0)return e.last_flush=-1,O;a=0,r-=l}let o=new Uint8Array(e.gzhead.extra);e.pending_buf.set(o.subarray(e.gzindex,e.gzindex+r),e.pending),e.pending+=r,e.gzhead.hcrc&&e.pending>a&&(t.adler=N(t.adler,e.pending_buf,e.pending-a,a)),e.gzindex=0}e.status=ve}if(e.status===ve){if(e.gzhead.name){let a=e.pending,r;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>a&&(t.adler=N(t.adler,e.pending_buf,e.pending-a,a)),M(t),e.pending!==0)return e.last_flush=-1,O;a=0}e.gzindex<e.gzhead.name.length?r=e.gzhead.name.charCodeAt(e.gzindex++)&255:r=0,T(e,r)}while(r!==0);e.gzhead.hcrc&&e.pending>a&&(t.adler=N(t.adler,e.pending_buf,e.pending-a,a)),e.gzindex=0}e.status=ye}if(e.status===ye){if(e.gzhead.comment){let a=e.pending,r;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>a&&(t.adler=N(t.adler,e.pending_buf,e.pending-a,a)),M(t),e.pending!==0)return e.last_flush=-1,O;a=0}e.gzindex<e.gzhead.comment.length?r=e.gzhead.comment.charCodeAt(e.gzindex++)&255:r=0,T(e,r)}while(r!==0);e.gzhead.hcrc&&e.pending>a&&(t.adler=N(t.adler,e.pending_buf,e.pending-a,a))}e.status=Ce}if(e.status===Ce){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(M(t),e.pending!==0))return e.last_flush=-1,O;T(e,t.adler&255),T(e,t.adler>>8&255),t.adler=0}if(e.status=et,M(t),e.pending!==0)return e.last_flush=-1,O}if(t.avail_in!==0||e.lookahead!==0||i!==Q&&e.status!==yt){let a=e.level===0?Fi(e,i):e.strategy===Pt?pa(e,i):e.strategy===Qn?ba(e,i):Ct[e.level].func(e,i);if((a===at||a===wt)&&(e.status=yt),a===$||a===at)return t.avail_out===0&&(e.last_flush=-1),O;if(a===pt&&(i===Kn?Bn(e):i!==He&&(me(e,0,0,!1),i===Gn&&(W(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),M(t),t.avail_out===0))return e.last_flush=-1,O}return i!==Z?O:e.wrap<=0?Xe:(e.wrap===2?(T(e,t.adler&255),T(e,t.adler>>8&255),T(e,t.adler>>16&255),T(e,t.adler>>24&255),T(e,t.total_in&255),T(e,t.total_in>>8&255),T(e,t.total_in>>16&255),T(e,t.total_in>>24&255)):(vt(e,t.adler>>>16),vt(e,t.adler&65535)),M(t),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?O:Xe)},va=t=>{if(Zt(t))return P;let i=t.state.status;return t.state=null,i===et?it(t,Wn):O},ya=(t,i)=>{let e=i.length;if(Zt(t))return P;let n=t.state,a=n.wrap;if(a===2||a===1&&n.status!==dt||n.lookahead)return P;if(a===1&&(t.adler=Ot(t.adler,i,e,0)),n.wrap=0,e>=n.w_size){a===0&&(W(n.head),n.strstart=0,n.block_start=0,n.insert=0);let _=new Uint8Array(n.w_size);_.set(i.subarray(e-n.w_size,e),0),i=_,e=n.w_size}let r=t.avail_in,o=t.next_in,l=t.input;for(t.avail_in=e,t.next_in=0,t.input=i,ut(n);n.lookahead>=C;){let _=n.strstart,s=n.lookahead-(C-1);do n.ins_h=J(n,n.ins_h,n.window[_+C-1]),n.prev[_&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=_,_++;while(--s);n.strstart=_,n.lookahead=C-1,ut(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=C-1,n.match_available=0,t.next_in=o,t.input=l,t.avail_in=r,n.wrap=a,O},Ca=ka,Sa=Yi,Ea=Ui,Ta=Li,Aa=ma,za=xa,Ra=va,Na=ya,Oa="pako deflate (from Nodeca project)",Et={deflateInit:Ca,deflateInit2:Sa,deflateReset:Ea,deflateResetKeep:Ta,deflateSetHeader:Aa,deflate:za,deflateEnd:Ra,deflateSetDictionary:Na,deflateInfo:Oa},$a=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),Da=function(t){let i=Array.prototype.slice.call(arguments,1);for(;i.length;){let e=i.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(let n in e)$a(e,n)&&(t[n]=e[n])}}return t},Ma=t=>{let i=0;for(let n=0,a=t.length;n<a;n++)i+=t[n].length;let e=new Uint8Array(i);for(let n=0,a=0,r=t.length;n<r;n++){let o=t[n];e.set(o,a),a+=o.length}return e},Qt={assign:Da,flattenChunks:Ma},Pi=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Pi=!1}var $t=new Uint8Array(256);for(let t=0;t<256;t++)$t[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;$t[254]=$t[254]=1;var Ia=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let i,e,n,a,r,o=t.length,l=0;for(a=0;a<o;a++)e=t.charCodeAt(a),(e&64512)===55296&&a+1<o&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),a++)),l+=e<128?1:e<2048?2:e<65536?3:4;for(i=new Uint8Array(l),r=0,a=0;r<l;a++)e=t.charCodeAt(a),(e&64512)===55296&&a+1<o&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),a++)),e<128?i[r++]=e:e<2048?(i[r++]=192|e>>>6,i[r++]=128|e&63):e<65536?(i[r++]=224|e>>>12,i[r++]=128|e>>>6&63,i[r++]=128|e&63):(i[r++]=240|e>>>18,i[r++]=128|e>>>12&63,i[r++]=128|e>>>6&63,i[r++]=128|e&63);return i},Za=(t,i)=>{if(i<65534&&t.subarray&&Pi)return String.fromCharCode.apply(null,t.length===i?t:t.subarray(0,i));let e="";for(let n=0;n<i;n++)e+=String.fromCharCode(t[n]);return e},Fa=(t,i)=>{let e=i||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,i));let n,a,r=new Array(e*2);for(a=0,n=0;n<e;){let o=t[n++];if(o<128){r[a++]=o;continue}let l=$t[o];if(l>4){r[a++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<e;)o=o<<6|t[n++]&63,l--;if(l>1){r[a++]=65533;continue}o<65536?r[a++]=o:(o-=65536,r[a++]=55296|o>>10&1023,r[a++]=56320|o&1023)}return Za(r,a)},La=(t,i)=>{i=i||t.length,i>t.length&&(i=t.length);let e=i-1;for(;e>=0&&(t[e]&192)===128;)e--;return e<0||e===0?i:e+$t[t[e]]>i?e:i},Dt={string2buf:Ia,buf2string:Fa,utf8border:La};function Ua(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Hi=Ua,Xi=Object.prototype.toString,{Z_NO_FLUSH:Ya,Z_SYNC_FLUSH:Pa,Z_FULL_FLUSH:Ha,Z_FINISH:Xa,Z_OK:Wt,Z_STREAM_END:ja,Z_DEFAULT_COMPRESSION:Ba,Z_DEFAULT_STRATEGY:Ka,Z_DEFLATED:Ga}=ot;function Ft(t){this.options=Qt.assign({level:Ba,method:Ga,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ka},t||{});let i=this.options;i.raw&&i.windowBits>0?i.windowBits=-i.windowBits:i.gzip&&i.windowBits>0&&i.windowBits<16&&(i.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Hi,this.strm.avail_out=0;let e=Et.deflateInit2(this.strm,i.level,i.method,i.windowBits,i.memLevel,i.strategy);if(e!==Wt)throw new Error(nt[e]);if(i.header&&Et.deflateSetHeader(this.strm,i.header),i.dictionary){let n;if(typeof i.dictionary=="string"?n=Dt.string2buf(i.dictionary):Xi.call(i.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(i.dictionary):n=i.dictionary,e=Et.deflateSetDictionary(this.strm,n),e!==Wt)throw new Error(nt[e]);this._dict_set=!0}}Ft.prototype.push=function(t,i){let e=this.strm,n=this.options.chunkSize,a,r;if(this.ended)return!1;for(i===~~i?r=i:r=i===!0?Xa:Ya,typeof t=="string"?e.input=Dt.string2buf(t):Xi.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),(r===Pa||r===Ha)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(a=Et.deflate(e,r),a===ja)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),a=Et.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Wt;if(e.avail_out===0){this.onData(e.output);continue}if(r>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};Ft.prototype.onData=function(t){this.chunks.push(t)};Ft.prototype.onEnd=function(t){t===Wt&&(this.result=Qt.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Ne(t,i){let e=new Ft(i);if(e.push(t,!0),e.err)throw e.msg||nt[e.err];return e.result}function Wa(t,i){return i=i||{},i.raw=!0,Ne(t,i)}function qa(t,i){return i=i||{},i.gzip=!0,Ne(t,i)}var Va=Ft,Qa=Ne,Ja=Wa,tr=qa,er=ot,ir={Deflate:Va,deflate:Qa,deflateRaw:Ja,gzip:tr,constants:er},Ht=16209,nr=16191,ar=function(i,e){let n,a,r,o,l,_,s,h,b,c,f,u,E,v,g,y,m,d,S,R,p,A,k,w,x=i.state;n=i.next_in,k=i.input,a=n+(i.avail_in-5),r=i.next_out,w=i.output,o=r-(e-i.avail_out),l=r+(i.avail_out-257),_=x.dmax,s=x.wsize,h=x.whave,b=x.wnext,c=x.window,f=x.hold,u=x.bits,E=x.lencode,v=x.distcode,g=(1<<x.lenbits)-1,y=(1<<x.distbits)-1;t:do{u<15&&(f+=k[n++]<<u,u+=8,f+=k[n++]<<u,u+=8),m=E[f&g];e:for(;;){if(d=m>>>24,f>>>=d,u-=d,d=m>>>16&255,d===0)w[r++]=m&65535;else if(d&16){S=m&65535,d&=15,d&&(u<d&&(f+=k[n++]<<u,u+=8),S+=f&(1<<d)-1,f>>>=d,u-=d),u<15&&(f+=k[n++]<<u,u+=8,f+=k[n++]<<u,u+=8),m=v[f&y];i:for(;;){if(d=m>>>24,f>>>=d,u-=d,d=m>>>16&255,d&16){if(R=m&65535,d&=15,u<d&&(f+=k[n++]<<u,u+=8,u<d&&(f+=k[n++]<<u,u+=8)),R+=f&(1<<d)-1,R>_){i.msg="invalid distance too far back",x.mode=Ht;break t}if(f>>>=d,u-=d,d=r-o,R>d){if(d=R-d,d>h&&x.sane){i.msg="invalid distance too far back",x.mode=Ht;break t}if(p=0,A=c,b===0){if(p+=s-d,d<S){S-=d;do w[r++]=c[p++];while(--d);p=r-R,A=w}}else if(b<d){if(p+=s+b-d,d-=b,d<S){S-=d;do w[r++]=c[p++];while(--d);if(p=0,b<S){d=b,S-=d;do w[r++]=c[p++];while(--d);p=r-R,A=w}}}else if(p+=b-d,d<S){S-=d;do w[r++]=c[p++];while(--d);p=r-R,A=w}for(;S>2;)w[r++]=A[p++],w[r++]=A[p++],w[r++]=A[p++],S-=3;S&&(w[r++]=A[p++],S>1&&(w[r++]=A[p++]))}else{p=r-R;do w[r++]=w[p++],w[r++]=w[p++],w[r++]=w[p++],S-=3;while(S>2);S&&(w[r++]=w[p++],S>1&&(w[r++]=w[p++]))}}else if(d&64){i.msg="invalid distance code",x.mode=Ht;break t}else{m=v[(m&65535)+(f&(1<<d)-1)];continue i}break}}else if(d&64)if(d&32){x.mode=nr;break t}else{i.msg="invalid literal/length code",x.mode=Ht;break t}else{m=E[(m&65535)+(f&(1<<d)-1)];continue e}break}}while(n<a&&r<l);S=u>>3,n-=S,u-=S<<3,f&=(1<<u)-1,i.next_in=n,i.next_out=r,i.avail_in=n<a?5+(a-n):5-(n-a),i.avail_out=r<l?257+(l-r):257-(r-l),x.hold=f,x.bits=u},ct=15,Be=852,Ke=592,Ge=0,he=1,We=2,rr=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),or=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),sr=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),lr=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),hr=(t,i,e,n,a,r,o,l)=>{let _=l.bits,s=0,h=0,b=0,c=0,f=0,u=0,E=0,v=0,g=0,y=0,m,d,S,R,p,A=null,k,w=new Uint16Array(ct+1),x=new Uint16Array(ct+1),L=null,xt,X,j;for(s=0;s<=ct;s++)w[s]=0;for(h=0;h<n;h++)w[i[e+h]]++;for(f=_,c=ct;c>=1&&w[c]===0;c--);if(f>c&&(f=c),c===0)return a[r++]=1<<24|64<<16|0,a[r++]=1<<24|64<<16|0,l.bits=1,0;for(b=1;b<c&&w[b]===0;b++);for(f<b&&(f=b),v=1,s=1;s<=ct;s++)if(v<<=1,v-=w[s],v<0)return-1;if(v>0&&(t===Ge||c!==1))return-1;for(x[1]=0,s=1;s<ct;s++)x[s+1]=x[s]+w[s];for(h=0;h<n;h++)i[e+h]!==0&&(o[x[i[e+h]]++]=h);if(t===Ge?(A=L=o,k=20):t===he?(A=rr,L=or,k=257):(A=sr,L=lr,k=0),y=0,h=0,s=b,p=r,u=f,E=0,S=-1,g=1<<f,R=g-1,t===he&&g>Be||t===We&&g>Ke)return 1;for(;;){xt=s-E,o[h]+1<k?(X=0,j=o[h]):o[h]>=k?(X=L[o[h]-k],j=A[o[h]-k]):(X=96,j=0),m=1<<s-E,d=1<<u,b=d;do d-=m,a[p+(y>>E)+d]=xt<<24|X<<16|j|0;while(d!==0);for(m=1<<s-1;y&m;)m>>=1;if(m!==0?(y&=m-1,y+=m):y=0,h++,--w[s]===0){if(s===c)break;s=i[e+o[h]]}if(s>f&&(y&R)!==S){for(E===0&&(E=f),p+=b,u=s-E,v=1<<u;u+E<c&&(v-=w[u+E],!(v<=0));)u++,v<<=1;if(g+=1<<u,t===he&&g>Be||t===We&&g>Ke)return 1;S=y&R,a[S]=f<<24|u<<16|p-r|0}}return y!==0&&(a[p+y]=s-E<<24|64<<16|0),l.bits=f,0},Tt=hr,fr=0,ji=1,Bi=2,{Z_FINISH:qe,Z_BLOCK:cr,Z_TREES:Xt,Z_OK:rt,Z_STREAM_END:_r,Z_NEED_DICT:dr,Z_STREAM_ERROR:F,Z_DATA_ERROR:Ki,Z_MEM_ERROR:Gi,Z_BUF_ERROR:ur,Z_DEFLATED:Ve}=ot,Jt=16180,Qe=16181,Je=16182,ti=16183,ei=16184,ii=16185,ni=16186,ai=16187,ri=16188,oi=16189,qt=16190,B=16191,fe=16192,si=16193,ce=16194,li=16195,hi=16196,fi=16197,ci=16198,jt=16199,Bt=16200,_i=16201,di=16202,ui=16203,bi=16204,pi=16205,_e=16206,wi=16207,gi=16208,z=16209,Wi=16210,qi=16211,br=852,pr=592,wr=15,gr=wr,mi=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function mr(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var st=t=>{if(!t)return 1;let i=t.state;return!i||i.strm!==t||i.mode<Jt||i.mode>qi?1:0},Vi=t=>{if(st(t))return F;let i=t.state;return t.total_in=t.total_out=i.total=0,t.msg="",i.wrap&&(t.adler=i.wrap&1),i.mode=Jt,i.last=0,i.havedict=0,i.flags=-1,i.dmax=32768,i.head=null,i.hold=0,i.bits=0,i.lencode=i.lendyn=new Int32Array(br),i.distcode=i.distdyn=new Int32Array(pr),i.sane=1,i.back=-1,rt},Qi=t=>{if(st(t))return F;let i=t.state;return i.wsize=0,i.whave=0,i.wnext=0,Vi(t)},Ji=(t,i)=>{let e;if(st(t))return F;let n=t.state;return i<0?(e=0,i=-i):(e=(i>>4)+5,i<48&&(i&=15)),i&&(i<8||i>15)?F:(n.window!==null&&n.wbits!==i&&(n.window=null),n.wrap=e,n.wbits=i,Qi(t))},tn=(t,i)=>{if(!t)return F;let e=new mr;t.state=e,e.strm=t,e.window=null,e.mode=Jt;let n=Ji(t,i);return n!==rt&&(t.state=null),n},kr=t=>tn(t,gr),ki=!0,de,ue,xr=t=>{if(ki){de=new Int32Array(512),ue=new Int32Array(32);let i=0;for(;i<144;)t.lens[i++]=8;for(;i<256;)t.lens[i++]=9;for(;i<280;)t.lens[i++]=7;for(;i<288;)t.lens[i++]=8;for(Tt(ji,t.lens,0,288,de,0,t.work,{bits:9}),i=0;i<32;)t.lens[i++]=5;Tt(Bi,t.lens,0,32,ue,0,t.work,{bits:5}),ki=!1}t.lencode=de,t.lenbits=9,t.distcode=ue,t.distbits=5},en=(t,i,e,n)=>{let a,r=t.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(r.window.set(i.subarray(e-r.wsize,e),0),r.wnext=0,r.whave=r.wsize):(a=r.wsize-r.wnext,a>n&&(a=n),r.window.set(i.subarray(e-n,e-n+a),r.wnext),n-=a,n?(r.window.set(i.subarray(e-n,e),0),r.wnext=n,r.whave=r.wsize):(r.wnext+=a,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=a))),0},vr=(t,i)=>{let e,n,a,r,o,l,_,s,h,b,c,f,u,E,v=0,g,y,m,d,S,R,p,A,k=new Uint8Array(4),w,x,L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(st(t)||!t.output||!t.input&&t.avail_in!==0)return F;e=t.state,e.mode===B&&(e.mode=fe),o=t.next_out,a=t.output,_=t.avail_out,r=t.next_in,n=t.input,l=t.avail_in,s=e.hold,h=e.bits,b=l,c=_,A=rt;t:for(;;)switch(e.mode){case Jt:if(e.wrap===0){e.mode=fe;break}for(;h<16;){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}if(e.wrap&2&&s===35615){e.wbits===0&&(e.wbits=15),e.check=0,k[0]=s&255,k[1]=s>>>8&255,e.check=N(e.check,k,2,0),s=0,h=0,e.mode=Qe;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((s&255)<<8)+(s>>8))%31){t.msg="incorrect header check",e.mode=z;break}if((s&15)!==Ve){t.msg="unknown compression method",e.mode=z;break}if(s>>>=4,h-=4,p=(s&15)+8,e.wbits===0&&(e.wbits=p),p>15||p>e.wbits){t.msg="invalid window size",e.mode=z;break}e.dmax=1<<e.wbits,e.flags=0,t.adler=e.check=1,e.mode=s&512?oi:B,s=0,h=0;break;case Qe:for(;h<16;){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}if(e.flags=s,(e.flags&255)!==Ve){t.msg="unknown compression method",e.mode=z;break}if(e.flags&57344){t.msg="unknown header flags set",e.mode=z;break}e.head&&(e.head.text=s>>8&1),e.flags&512&&e.wrap&4&&(k[0]=s&255,k[1]=s>>>8&255,e.check=N(e.check,k,2,0)),s=0,h=0,e.mode=Je;case Je:for(;h<32;){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}e.head&&(e.head.time=s),e.flags&512&&e.wrap&4&&(k[0]=s&255,k[1]=s>>>8&255,k[2]=s>>>16&255,k[3]=s>>>24&255,e.check=N(e.check,k,4,0)),s=0,h=0,e.mode=ti;case ti:for(;h<16;){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}e.head&&(e.head.xflags=s&255,e.head.os=s>>8),e.flags&512&&e.wrap&4&&(k[0]=s&255,k[1]=s>>>8&255,e.check=N(e.check,k,2,0)),s=0,h=0,e.mode=ei;case ei:if(e.flags&1024){for(;h<16;){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}e.length=s,e.head&&(e.head.extra_len=s),e.flags&512&&e.wrap&4&&(k[0]=s&255,k[1]=s>>>8&255,e.check=N(e.check,k,2,0)),s=0,h=0}else e.head&&(e.head.extra=null);e.mode=ii;case ii:if(e.flags&1024&&(f=e.length,f>l&&(f=l),f&&(e.head&&(p=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(r,r+f),p)),e.flags&512&&e.wrap&4&&(e.check=N(e.check,n,f,r)),l-=f,r+=f,e.length-=f),e.length))break t;e.length=0,e.mode=ni;case ni:if(e.flags&2048){if(l===0)break t;f=0;do p=n[r+f++],e.head&&p&&e.length<65536&&(e.head.name+=String.fromCharCode(p));while(p&&f<l);if(e.flags&512&&e.wrap&4&&(e.check=N(e.check,n,f,r)),l-=f,r+=f,p)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=ai;case ai:if(e.flags&4096){if(l===0)break t;f=0;do p=n[r+f++],e.head&&p&&e.length<65536&&(e.head.comment+=String.fromCharCode(p));while(p&&f<l);if(e.flags&512&&e.wrap&4&&(e.check=N(e.check,n,f,r)),l-=f,r+=f,p)break t}else e.head&&(e.head.comment=null);e.mode=ri;case ri:if(e.flags&512){for(;h<16;){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}if(e.wrap&4&&s!==(e.check&65535)){t.msg="header crc mismatch",e.mode=z;break}s=0,h=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=B;break;case oi:for(;h<32;){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}t.adler=e.check=mi(s),s=0,h=0,e.mode=qt;case qt:if(e.havedict===0)return t.next_out=o,t.avail_out=_,t.next_in=r,t.avail_in=l,e.hold=s,e.bits=h,dr;t.adler=e.check=1,e.mode=B;case B:if(i===cr||i===Xt)break t;case fe:if(e.last){s>>>=h&7,h-=h&7,e.mode=_e;break}for(;h<3;){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}switch(e.last=s&1,s>>>=1,h-=1,s&3){case 0:e.mode=si;break;case 1:if(xr(e),e.mode=jt,i===Xt){s>>>=2,h-=2;break t}break;case 2:e.mode=hi;break;case 3:t.msg="invalid block type",e.mode=z}s>>>=2,h-=2;break;case si:for(s>>>=h&7,h-=h&7;h<32;){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}if((s&65535)!==(s>>>16^65535)){t.msg="invalid stored block lengths",e.mode=z;break}if(e.length=s&65535,s=0,h=0,e.mode=ce,i===Xt)break t;case ce:e.mode=li;case li:if(f=e.length,f){if(f>l&&(f=l),f>_&&(f=_),f===0)break t;a.set(n.subarray(r,r+f),o),l-=f,r+=f,_-=f,o+=f,e.length-=f;break}e.mode=B;break;case hi:for(;h<14;){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}if(e.nlen=(s&31)+257,s>>>=5,h-=5,e.ndist=(s&31)+1,s>>>=5,h-=5,e.ncode=(s&15)+4,s>>>=4,h-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=z;break}e.have=0,e.mode=fi;case fi:for(;e.have<e.ncode;){for(;h<3;){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}e.lens[L[e.have++]]=s&7,s>>>=3,h-=3}for(;e.have<19;)e.lens[L[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,w={bits:e.lenbits},A=Tt(fr,e.lens,0,19,e.lencode,0,e.work,w),e.lenbits=w.bits,A){t.msg="invalid code lengths set",e.mode=z;break}e.have=0,e.mode=ci;case ci:for(;e.have<e.nlen+e.ndist;){for(;v=e.lencode[s&(1<<e.lenbits)-1],g=v>>>24,y=v>>>16&255,m=v&65535,!(g<=h);){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}if(m<16)s>>>=g,h-=g,e.lens[e.have++]=m;else{if(m===16){for(x=g+2;h<x;){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}if(s>>>=g,h-=g,e.have===0){t.msg="invalid bit length repeat",e.mode=z;break}p=e.lens[e.have-1],f=3+(s&3),s>>>=2,h-=2}else if(m===17){for(x=g+3;h<x;){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}s>>>=g,h-=g,p=0,f=3+(s&7),s>>>=3,h-=3}else{for(x=g+7;h<x;){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}s>>>=g,h-=g,p=0,f=11+(s&127),s>>>=7,h-=7}if(e.have+f>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=z;break}for(;f--;)e.lens[e.have++]=p}}if(e.mode===z)break;if(e.lens[256]===0){t.msg="invalid code -- missing end-of-block",e.mode=z;break}if(e.lenbits=9,w={bits:e.lenbits},A=Tt(ji,e.lens,0,e.nlen,e.lencode,0,e.work,w),e.lenbits=w.bits,A){t.msg="invalid literal/lengths set",e.mode=z;break}if(e.distbits=6,e.distcode=e.distdyn,w={bits:e.distbits},A=Tt(Bi,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,w),e.distbits=w.bits,A){t.msg="invalid distances set",e.mode=z;break}if(e.mode=jt,i===Xt)break t;case jt:e.mode=Bt;case Bt:if(l>=6&&_>=258){t.next_out=o,t.avail_out=_,t.next_in=r,t.avail_in=l,e.hold=s,e.bits=h,ar(t,c),o=t.next_out,a=t.output,_=t.avail_out,r=t.next_in,n=t.input,l=t.avail_in,s=e.hold,h=e.bits,e.mode===B&&(e.back=-1);break}for(e.back=0;v=e.lencode[s&(1<<e.lenbits)-1],g=v>>>24,y=v>>>16&255,m=v&65535,!(g<=h);){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}if(y&&!(y&240)){for(d=g,S=y,R=m;v=e.lencode[R+((s&(1<<d+S)-1)>>d)],g=v>>>24,y=v>>>16&255,m=v&65535,!(d+g<=h);){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}s>>>=d,h-=d,e.back+=d}if(s>>>=g,h-=g,e.back+=g,e.length=m,y===0){e.mode=pi;break}if(y&32){e.back=-1,e.mode=B;break}if(y&64){t.msg="invalid literal/length code",e.mode=z;break}e.extra=y&15,e.mode=_i;case _i:if(e.extra){for(x=e.extra;h<x;){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}e.length+=s&(1<<e.extra)-1,s>>>=e.extra,h-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=di;case di:for(;v=e.distcode[s&(1<<e.distbits)-1],g=v>>>24,y=v>>>16&255,m=v&65535,!(g<=h);){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}if(!(y&240)){for(d=g,S=y,R=m;v=e.distcode[R+((s&(1<<d+S)-1)>>d)],g=v>>>24,y=v>>>16&255,m=v&65535,!(d+g<=h);){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}s>>>=d,h-=d,e.back+=d}if(s>>>=g,h-=g,e.back+=g,y&64){t.msg="invalid distance code",e.mode=z;break}e.offset=m,e.extra=y&15,e.mode=ui;case ui:if(e.extra){for(x=e.extra;h<x;){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}e.offset+=s&(1<<e.extra)-1,s>>>=e.extra,h-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=z;break}e.mode=bi;case bi:if(_===0)break t;if(f=c-_,e.offset>f){if(f=e.offset-f,f>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=z;break}f>e.wnext?(f-=e.wnext,u=e.wsize-f):u=e.wnext-f,f>e.length&&(f=e.length),E=e.window}else E=a,u=o-e.offset,f=e.length;f>_&&(f=_),_-=f,e.length-=f;do a[o++]=E[u++];while(--f);e.length===0&&(e.mode=Bt);break;case pi:if(_===0)break t;a[o++]=e.length,_--,e.mode=Bt;break;case _e:if(e.wrap){for(;h<32;){if(l===0)break t;l--,s|=n[r++]<<h,h+=8}if(c-=_,t.total_out+=c,e.total+=c,e.wrap&4&&c&&(t.adler=e.check=e.flags?N(e.check,a,c,o-c):Ot(e.check,a,c,o-c)),c=_,e.wrap&4&&(e.flags?s:mi(s))!==e.check){t.msg="incorrect data check",e.mode=z;break}s=0,h=0}e.mode=wi;case wi:if(e.wrap&&e.flags){for(;h<32;){if(l===0)break t;l--,s+=n[r++]<<h,h+=8}if(e.wrap&4&&s!==(e.total&4294967295)){t.msg="incorrect length check",e.mode=z;break}s=0,h=0}e.mode=gi;case gi:A=_r;break t;case z:A=Ki;break t;case Wi:return Gi;case qi:default:return F}return t.next_out=o,t.avail_out=_,t.next_in=r,t.avail_in=l,e.hold=s,e.bits=h,(e.wsize||c!==t.avail_out&&e.mode<z&&(e.mode<_e||i!==qe))&&en(t,t.output,t.next_out,c-t.avail_out),b-=t.avail_in,c-=t.avail_out,t.total_in+=b,t.total_out+=c,e.total+=c,e.wrap&4&&c&&(t.adler=e.check=e.flags?N(e.check,a,c,t.next_out-c):Ot(e.check,a,c,t.next_out-c)),t.data_type=e.bits+(e.last?64:0)+(e.mode===B?128:0)+(e.mode===jt||e.mode===ce?256:0),(b===0&&c===0||i===qe)&&A===rt&&(A=ur),A},yr=t=>{if(st(t))return F;let i=t.state;return i.window&&(i.window=null),t.state=null,rt},Cr=(t,i)=>{if(st(t))return F;let e=t.state;return e.wrap&2?(e.head=i,i.done=!1,rt):F},Sr=(t,i)=>{let e=i.length,n,a,r;return st(t)||(n=t.state,n.wrap!==0&&n.mode!==qt)?F:n.mode===qt&&(a=1,a=Ot(a,i,e,0),a!==n.check)?Ki:(r=en(t,i,e,e),r?(n.mode=Wi,Gi):(n.havedict=1,rt))},Er=Qi,Tr=Ji,Ar=Vi,zr=kr,Rr=tn,Nr=vr,Or=yr,$r=Cr,Dr=Sr,Mr="pako inflate (from Nodeca project)",G={inflateReset:Er,inflateReset2:Tr,inflateResetKeep:Ar,inflateInit:zr,inflateInit2:Rr,inflate:Nr,inflateEnd:Or,inflateGetHeader:$r,inflateSetDictionary:Dr,inflateInfo:Mr};function Ir(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Zr=Ir,nn=Object.prototype.toString,{Z_NO_FLUSH:Fr,Z_FINISH:Lr,Z_OK:Mt,Z_STREAM_END:be,Z_NEED_DICT:pe,Z_STREAM_ERROR:Ur,Z_DATA_ERROR:xi,Z_MEM_ERROR:Yr}=ot;function Lt(t){this.options=Qt.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});let i=this.options;i.raw&&i.windowBits>=0&&i.windowBits<16&&(i.windowBits=-i.windowBits,i.windowBits===0&&(i.windowBits=-15)),i.windowBits>=0&&i.windowBits<16&&!(t&&t.windowBits)&&(i.windowBits+=32),i.windowBits>15&&i.windowBits<48&&(i.windowBits&15||(i.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Hi,this.strm.avail_out=0;let e=G.inflateInit2(this.strm,i.windowBits);if(e!==Mt)throw new Error(nt[e]);if(this.header=new Zr,G.inflateGetHeader(this.strm,this.header),i.dictionary&&(typeof i.dictionary=="string"?i.dictionary=Dt.string2buf(i.dictionary):nn.call(i.dictionary)==="[object ArrayBuffer]"&&(i.dictionary=new Uint8Array(i.dictionary)),i.raw&&(e=G.inflateSetDictionary(this.strm,i.dictionary),e!==Mt)))throw new Error(nt[e])}Lt.prototype.push=function(t,i){let e=this.strm,n=this.options.chunkSize,a=this.options.dictionary,r,o,l;if(this.ended)return!1;for(i===~~i?o=i:o=i===!0?Lr:Fr,nn.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),r=G.inflate(e,o),r===pe&&a&&(r=G.inflateSetDictionary(e,a),r===Mt?r=G.inflate(e,o):r===xi&&(r=pe));e.avail_in>0&&r===be&&e.state.wrap>0&&t[e.next_in]!==0;)G.inflateReset(e),r=G.inflate(e,o);switch(r){case Ur:case xi:case pe:case Yr:return this.onEnd(r),this.ended=!0,!1}if(l=e.avail_out,e.next_out&&(e.avail_out===0||r===be))if(this.options.to==="string"){let _=Dt.utf8border(e.output,e.next_out),s=e.next_out-_,h=Dt.buf2string(e.output,_);e.next_out=s,e.avail_out=n-s,s&&e.output.set(e.output.subarray(_,_+s),0),this.onData(h)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(r===Mt&&l===0)){if(r===be)return r=G.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};Lt.prototype.onData=function(t){this.chunks.push(t)};Lt.prototype.onEnd=function(t){t===Mt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Qt.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Oe(t,i){let e=new Lt(i);if(e.push(t),e.err)throw e.msg||nt[e.err];return e.result}function Pr(t,i){return i=i||{},i.raw=!0,Oe(t,i)}var Hr=Lt,Xr=Oe,jr=Pr,Br=Oe,Kr=ot,Gr={Inflate:Hr,inflate:Xr,inflateRaw:jr,ungzip:Br,constants:Kr},{Deflate:Wr,deflate:qr,deflateRaw:Vr,gzip:Qr}=ir,{Inflate:Jr,inflate:to,inflateRaw:eo,ungzip:io}=Gr,no=Wr,ao=qr,ro=Vr,oo=Qr,so=Jr,lo=to,ho=eo,fo=io,co=ot,an={Deflate:no,deflate:ao,deflateRaw:ro,gzip:oo,Inflate:so,inflate:lo,inflateRaw:ho,ungzip:fo,constants:co};var te=class{constructor(){this.objectCount=0,this.objects=[],this.xref=[]}formatNumber(i){return typeof i!="number"||!isFinite(i)?(console.warn(`Invalid number in PDF: ${i}, using 0`),"0"):Number(i.toFixed(6)).toString()}generatePDF(i){this.objectCount=0,this.objects=[],this.xref=[];let e=this.allocateObject(),n=this.allocateObject(),a=this.allocateObject(),r=this.allocateObject(),o=this.allocateObject(),l=i.contentStream.join(`
`),_=an.deflate(l),s={},h=this.buildColorSpaceDict(i.resources.ColorSpace),b=this.buildExtGStateDict(i.resources.ExtGState);h&&(s.ColorSpace=h),b&&(s.ExtGState=b),this.addObject(o,s),this.addObject(r,{Length:_.length,Filter:"/FlateDecode"},_),this.addObject(a,{Type:"/Page",Parent:`${n} 0 R`,MediaBox:`[0 0 ${this.formatNumber(i.width)} ${this.formatNumber(i.height)}]`,Contents:`${r} 0 R`,Resources:`${o} 0 R`}),this.addObject(n,{Type:"/Pages",Kids:`[${a} 0 R]`,Count:1}),this.addObject(e,{Type:"/Catalog",Pages:`${n} 0 R`});let c=`%PDF-1.4
`;c+=`%\xFF\xFF\xFF\xFF
`;for(let u=1;u<=this.objectCount;u++){let E=this.objects[u];E&&(this.xref[u]=c.length,c+=`${u} 0 obj
`,c+=E,c+=`
endobj
`)}let f=c.length;c+=`xref
`,c+=`0 ${this.objectCount+1}
`,c+=`0000000000 65535 f 
`;for(let u=1;u<=this.objectCount;u++){let E=this.xref[u]||0;c+=E.toString().padStart(10,"0")+` 00000 n 
`}return c+=`trailer
`,c+=`<< /Size ${this.objectCount+1} /Root ${e} 0 R >>
`,c+=`startxref
`,c+=`${f}
`,c+="%%EOF",Buffer.from(c,"binary")}allocateObject(){let i=++this.objectCount;return this.objects[i]=null,i}addObject(i,e,n){if(typeof e=="string"){this.objects[i]=e;return}let a=["<<"];for(let[o,l]of Object.entries(e))l!=null&&a.push(`  /${o} ${l}`);a.push(">>");let r=a.join(`
`);if(n){r+=`
stream
`,this.objects[i]=r+Buffer.from(n).toString("binary")+`
endstream`;return}this.objects[i]=r}buildColorSpaceDict(i){if(!i||Object.keys(i).length===0)return null;let e=["<<"];for(let[n,a]of Object.entries(i))if(a.type==="Separation"){let r=this.allocateObject();this.addObject(r,{FunctionType:2,Domain:"[0 1]",C0:"[0 0 0 0]",C1:`[${this.formatNumber(a.tintTransform.c)} ${this.formatNumber(a.tintTransform.m)} ${this.formatNumber(a.tintTransform.y)} ${this.formatNumber(a.tintTransform.k)}]`,N:1});let o=this.allocateObject(),_=`[/Separation /${a.name.replace(/[\s()]/g,"#20")} /DeviceCMYK ${r} 0 R]`;this.objects[o]=_,e.push(`/${n} ${o} 0 R`)}return e.push(">>"),e.join(`
`)}buildExtGStateDict(i){if(!i||Object.keys(i).length===0)return null;let e=["<<"];for(let[n,a]of Object.entries(i)){let r=this.allocateObject();this.addObject(r,a),e.push(`/${n} ${r} 0 R`)}return e.push(">>"),e.join(`
`)}};var gt=class{parse(i){return i=i.trim(),this.parseElement(i)}parseElement(i){let e=i.match(/^<(\w+)([^>]*)>/);if(!e)return null;let n=e[1],a=e[2],r={tagName:n.toLowerCase(),attributes:this.parseAttributes(a),children:[]};if(i=i.substring(e[0].length),a.endsWith("/"))return r;let o=`</${n}>`,l=i.lastIndexOf(o);if(l===-1)return console.warn(`No closing tag found for ${n}`),r;let _=i.substring(0,l);return r.children=this.parseChildren(_),r}parseChildren(i){let e=[],n=i.trim();for(;n&&(n=n.trim(),!!n);)if(n.startsWith("<")){let a=n.match(/^<(\w+)([^>]*)>/);if(a){let r=a[1];if(a[2].endsWith("/")){let l={tagName:r.toLowerCase(),attributes:this.parseAttributes(a[2]),children:[]};e.push(l),n=n.substring(a[0].length)}else{let l=`</${r}>`,_=1,s=a[0].length;for(;_>0&&s<n.length;){let h=n.indexOf(`<${r}`,s),b=n.indexOf(l,s);if(b===-1)break;if(h!==-1&&h<b)_++,s=h+1;else if(_--,_===0){let c=n.substring(0,b+l.length),f=this.parseElement(c);f&&e.push(f),n=n.substring(b+l.length)}else s=b+1}if(_>0){console.warn(`Unclosed tag: ${r}`);break}}}else n=n.substring(1)}else{let a=n.indexOf("<");if(a===-1)break;n=n.substring(a)}return e}parseAttributes(i){let e={},n=/(\w+(?:-\w+)*)(?:\s*=\s*"([^"]*)"|\s*=\s*'([^']*)')?/g,a;for(;(a=n.exec(i))!==null;){let r=a[1],o=a[2]||a[3]||"";e[r]=o}return e}};function $e(t){return{tagName:t.tagName,getAttribute(i){return t.attributes[i]||null},children:t.children,attributes:t.attributes}}var mt=class t{static apply(i,e){return new t().parse(e).applyTo(i)}constructor(){this.commands=[],this.currentX=0,this.currentY=0,this.startX=0,this.startY=0,this.lastCommand="",this.lastControlX=0,this.lastControlY=0}parse(i){if(!i)return this;let e=i.trim(),n=0;for(;n<e.length;){for(;n<e.length&&/\s/.test(e[n]);)n++;if(n>=e.length)break;let a=e[n];if(!/[MmLlHhVvCcSsQqTtAaZz]/.test(a)){console.warn(`Invalid path command: ${a}`),n++;continue}n++;let r=[];for(;n<e.length;){for(;n<e.length&&/[\s,]/.test(e[n]);)n++;if(n<e.length&&/[MmLlHhVvCcSsQqTtAaZz]/.test(e[n]))break;let o="",l=!1;for(n<e.length&&e[n]==="-"&&(o+="-",n++);n<e.length&&/\d/.test(e[n]);)o+=e[n],n++;if(n<e.length&&e[n]===".")for(o+=".",n++,l=!0;n<e.length&&/\d/.test(e[n]);)o+=e[n],n++;if(o===""&&n<e.length&&e[n]===".")for(o="0.",n++;n<e.length&&/\d/.test(e[n]);)o+=e[n],n++;if(o!==""&&o!=="-")r.push(parseFloat(o));else if(o==="-"){n--;break}}(r.length>0||/[Zz]/.test(a))&&this.processCommand(a,r)}return this}processCommand(i,e){switch(i){case"M":if(e.length>=2){this.moveTo(e[0],e[1]);for(let n=2;n<e.length;n+=2)n+1<e.length&&this.lineTo(e[n],e[n+1])}break;case"m":this.moveTo(this.currentX+e[0],this.currentY+e[1]);for(let n=2;n<e.length;n+=2)this.lineTo(this.currentX+e[n],this.currentY+e[n+1]);break;case"L":for(let n=0;n<e.length;n+=2)this.lineTo(e[n],e[n+1]);break;case"l":for(let n=0;n<e.length;n+=2)this.lineTo(this.currentX+e[n],this.currentY+e[n+1]);break;case"H":for(let n=0;n<e.length;n++)this.lineTo(e[n],this.currentY);break;case"h":for(let n=0;n<e.length;n++)this.lineTo(this.currentX+e[n],this.currentY);break;case"V":for(let n=0;n<e.length;n++)this.lineTo(this.currentX,e[n]);break;case"v":for(let n=0;n<e.length;n++)this.lineTo(this.currentX,this.currentY+e[n]);break;case"C":for(let n=0;n<e.length;n+=6)this.bezierCurveTo(e[n],e[n+1],e[n+2],e[n+3],e[n+4],e[n+5]);break;case"c":for(let n=0;n<e.length;n+=6)this.bezierCurveTo(this.currentX+e[n],this.currentY+e[n+1],this.currentX+e[n+2],this.currentY+e[n+3],this.currentX+e[n+4],this.currentY+e[n+5]);break;case"S":for(let n=0;n<e.length;n+=4)this.smoothBezierCurveTo(e[n],e[n+1],e[n+2],e[n+3]);break;case"s":for(let n=0;n<e.length;n+=4)this.smoothBezierCurveTo(this.currentX+e[n],this.currentY+e[n+1],this.currentX+e[n+2],this.currentY+e[n+3]);break;case"Q":for(let n=0;n<e.length;n+=4)this.quadraticCurveTo(e[n],e[n+1],e[n+2],e[n+3]);break;case"q":for(let n=0;n<e.length;n+=4)this.quadraticCurveTo(this.currentX+e[n],this.currentY+e[n+1],this.currentX+e[n+2],this.currentY+e[n+3]);break;case"T":for(let n=0;n<e.length;n+=2)this.smoothQuadraticCurveTo(e[n],e[n+1]);break;case"t":for(let n=0;n<e.length;n+=2)this.smoothQuadraticCurveTo(this.currentX+e[n],this.currentY+e[n+1]);break;case"A":for(let n=0;n<e.length;n+=7)this.arcTo(e[n],e[n+1],e[n+2],e[n+3],e[n+4],e[n+5],e[n+6]);break;case"a":for(let n=0;n<e.length;n+=7)this.arcTo(e[n],e[n+1],e[n+2],e[n+3],e[n+4],this.currentX+e[n+5],this.currentY+e[n+6]);break;case"Z":case"z":this.closePath();break}}moveTo(i,e){this.commands.push({type:"M",x:i,y:e}),this.currentX=this.startX=i,this.currentY=this.startY=e,this.lastCommand="M"}lineTo(i,e){this.commands.push({type:"L",x:i,y:e}),this.currentX=i,this.currentY=e,this.lastCommand="L"}bezierCurveTo(i,e,n,a,r,o){this.commands.push({type:"C",cp1x:i,cp1y:e,cp2x:n,cp2y:a,x:r,y:o}),this.currentX=r,this.currentY=o,this.lastControlX=n,this.lastControlY=a,this.lastCommand="C"}smoothBezierCurveTo(i,e,n,a){let r,o;this.lastCommand==="C"||this.lastCommand==="S"?(r=2*this.currentX-this.lastControlX,o=2*this.currentY-this.lastControlY):(r=this.currentX,o=this.currentY),this.bezierCurveTo(r,o,i,e,n,a),this.lastCommand="S"}quadraticCurveTo(i,e,n,a){let r=this.currentX+.6666666666666666*(i-this.currentX),o=this.currentY+2/3*(e-this.currentY),l=n+2/3*(i-n),_=a+2/3*(e-a);this.bezierCurveTo(r,o,l,_,n,a),this.lastControlX=i,this.lastControlY=e,this.lastCommand="Q"}smoothQuadraticCurveTo(i,e){let n,a;this.lastCommand==="Q"||this.lastCommand==="T"?(n=2*this.currentX-this.lastControlX,a=2*this.currentY-this.lastControlY):(n=this.currentX,a=this.currentY),this.quadraticCurveTo(n,a,i,e),this.lastCommand="T"}arcTo(i,e,n,a,r,o,l){if(i===0||e===0){this.lineTo(o,l);return}let _=n*Math.PI/180;i=Math.abs(i),e=Math.abs(e),a=!!a,r=!!r;let s=Math.cos(_),h=Math.sin(_),b=s*(this.currentX-o)/2+h*(this.currentY-l)/2,c=-h*(this.currentX-o)/2+s*(this.currentY-l)/2,f=b*b/(i*i)+c*c/(e*e);f>1&&(i*=Math.sqrt(f),e*=Math.sqrt(f));let u=a===r?-1:1,E=Math.max(0,i*i*e*e-i*i*c*c-e*e*b*b),v=u*Math.sqrt(E/(i*i*c*c+e*e*b*b)),g=v*i*c/e,y=-v*e*b/i,m=s*g-h*y+(this.currentX+o)/2,d=h*g+s*y+(this.currentY+l)/2,S=Math.atan2((c-y)/e,(b-g)/i),p=Math.atan2((-c-y)/e,(-b-g)/i)-S;r&&p<0?p+=2*Math.PI:!r&&p>0&&(p-=2*Math.PI);let A=Math.ceil(Math.abs(p)/(Math.PI/2)),k=p/A,w=8/3*Math.sin(k/4)*Math.sin(k/4)/Math.sin(k/2);for(let x=0;x<A;x++){let L=S+x*k,xt=L+k,X=Math.cos(L),j=Math.sin(L),lt=Math.cos(xt),ht=Math.sin(xt),rn=s*i*(X-w*j)-h*e*(j+w*X)+m,on=h*i*(X-w*j)+s*e*(j+w*X)+d,sn=s*i*(lt+w*ht)-h*e*(ht-w*lt)+m,ln=h*i*(lt+w*ht)+s*e*(ht-w*lt)+d,hn=s*i*lt-h*e*ht+m,fn=h*i*lt+s*e*ht+d;this.bezierCurveTo(rn,on,sn,ln,hn,fn)}this.lastCommand="A"}closePath(){this.commands.push({type:"Z"}),this.currentX=this.startX,this.currentY=this.startY,this.lastCommand="Z"}applyTo(i){for(let e of this.commands)switch(e.type){case"M":i.moveTo(e.x,e.y);break;case"L":i.lineTo(e.x,e.y);break;case"C":i.bezierCurveTo(e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.x,e.y);break;case"Z":i.closePath();break}return i}};function ee(t,i,e=0,n=0,a={}){let r=new De(t,a),o;if(typeof i=="string"?o=new gt().parse(i):o=i,!o){console.warn("SVGtoPDF: No valid SVG element found");return}let l=$e(o);t.save(),t.translate(e,n);let _=l.getAttribute("viewBox"),s=parseFloat(l.getAttribute("width"))||a.width||100,h=parseFloat(l.getAttribute("height"))||a.height||100;if(_){let[b,c,f,u]=_.split(/\s+/).map(parseFloat);if(!isNaN(f)&&!isNaN(u)&&f>0&&u>0){let E=Math.min(s/f,h/u);t.translate(0,h),t.scale(E,-E),t.translate(-b,-c)}}else if(a.width&&a.height){let b=parseFloat(l.getAttribute("width"))||100,c=parseFloat(l.getAttribute("height"))||100,f=a.width/b,u=a.height/c;t.translate(0,a.height),t.scale(f,-u)}else t.translate(0,h),t.scale(1,-1);r.renderElement(l),t.restore()}var De=class{constructor(i,e){this.doc=i,this.options=e,this.colorSpace=i.colorSpace,this.spotColors=i.spotColors}renderElement(i,e={}){var o;let n=(o=i.tagName)==null?void 0:o.toLowerCase();if(!n)return;let a=this.computeStyle(i,e),r=i.getAttribute("transform");switch(r&&(this.doc.save(),this.applyTransform(r)),n){case"svg":case"g":if(i.children)for(let l of i.children)this.renderElement($e(l),a);break;case"rect":this.drawRect(i,a);break;case"circle":this.drawCircle(i,a);break;case"ellipse":this.drawEllipse(i,a);break;case"path":this.drawPath(i,a);break;case"line":this.drawLine(i,a);break;case"polyline":this.drawPolyline(i,a);break;case"polygon":this.drawPolygon(i,a);break}r&&this.doc.restore()}computeStyle(i,e){let n=Yt({},e);if(["fill","stroke","fill-opacity","stroke-opacity","opacity","stroke-width","fill-rule"].forEach(r=>{let o=i.getAttribute(r);o!==null&&(n[r]=o)}),n.opacity){let r=parseFloat(n.opacity);n["fill-opacity"]=(parseFloat(n["fill-opacity"]||1)*r).toString(),n["stroke-opacity"]=(parseFloat(n["stroke-opacity"]||1)*r).toString()}return n}applyTransform(i){let e=i.match(/(\w+)\(([^)]+)\)/g);e&&e.forEach(n=>{let a=n.match(/(\w+)\(([^)]+)\)/);if(!a)return;let r=a[1],o=a[2].split(/[\s,]+/).map(parseFloat);switch(r){case"translate":this.doc.translate(o[0]||0,o[1]||0);break;case"scale":this.doc.scale(o[0]||1,o[1]||o[0]||1);break;case"rotate":let l=(o[0]||0)*Math.PI/180;this.doc.rotate(l,o[1]||0,o[2]||0);break;case"matrix":o.length===6&&this.doc.transform(...o);break}})}drawRect(i,e){let n=parseFloat(i.getAttribute("x"))||0,a=parseFloat(i.getAttribute("y"))||0,r=parseFloat(i.getAttribute("width"))||0,o=parseFloat(i.getAttribute("height"))||0,l=parseFloat(i.getAttribute("rx"))||0,_=parseFloat(i.getAttribute("ry"))||0;if(l||_){let s=Math.min(l||_,_||l,r/2,o/2);this.doc.moveTo(n+s,a),this.doc.lineTo(n+r-s,a),this.doc.bezierCurveTo(n+r-s*.45,a,n+r,a+s*.45,n+r,a+s),this.doc.lineTo(n+r,a+o-s),this.doc.bezierCurveTo(n+r,a+o-s*.45,n+r-s*.45,a+o,n+r-s,a+o),this.doc.lineTo(n+s,a+o),this.doc.bezierCurveTo(n+s*.45,a+o,n,a+o-s*.45,n,a+o-s),this.doc.lineTo(n,a+s),this.doc.bezierCurveTo(n,a+s*.45,n+s*.45,a,n+s,a),this.doc.closePath()}else this.doc.rect(n,a,r,o);this.applyStyle(e)}drawCircle(i,e){let n=parseFloat(i.getAttribute("cx"))||0,a=parseFloat(i.getAttribute("cy"))||0,r=parseFloat(i.getAttribute("r"))||0;this.doc.circle(n,a,r),this.applyStyle(e)}drawEllipse(i,e){let n=parseFloat(i.getAttribute("cx"))||0,a=parseFloat(i.getAttribute("cy"))||0,r=parseFloat(i.getAttribute("rx"))||0,o=parseFloat(i.getAttribute("ry"))||0;this.doc.ellipse(n,a,r,o),this.applyStyle(e)}drawPath(i,e){let n=i.getAttribute("d");n&&(mt.apply(this.doc,n),this.applyStyle(e))}drawLine(i,e){let n=parseFloat(i.getAttribute("x1"))||0,a=parseFloat(i.getAttribute("y1"))||0,r=parseFloat(i.getAttribute("x2"))||0,o=parseFloat(i.getAttribute("y2"))||0;this.doc.moveTo(n,a),this.doc.lineTo(r,o),this.applyStyle(e,!0)}drawPolyline(i,e){let n=this.parsePoints(i.getAttribute("points"));if(!(n.length<2)){this.doc.moveTo(n[0],n[1]);for(let a=2;a<n.length;a+=2)this.doc.lineTo(n[a],n[a+1]);this.applyStyle(e,!0)}}drawPolygon(i,e){let n=this.parsePoints(i.getAttribute("points"));if(!(n.length<2)){this.doc.moveTo(n[0],n[1]);for(let a=2;a<n.length;a+=2)this.doc.lineTo(n[a],n[a+1]);this.doc.closePath(),this.applyStyle(e)}}parsePoints(i){return i?i.trim().split(/[\s,]+/).map(parseFloat):[]}applyStyle(i,e=!1){let n=i.fill!==void 0?i.fill:"black",a=i.stroke,r=parseFloat(i["fill-opacity"]||1),o=parseFloat(i["stroke-opacity"]||1),l=parseFloat(i["stroke-width"]||1),_=i["fill-rule"]||"nonzero",s=!1,h=!1;n&&n!=="none"&&!e&&(this.applyColor(n,"fill"),this.doc.fillOpacity(r),s=!0),a&&a!=="none"&&(this.applyColor(a,"stroke"),this.doc.strokeOpacity(o),this.doc.lineWidth(l),h=!0),s&&h?this.doc.fillAndStroke(_):s?this.doc.fill(_):h&&this.doc.stroke()}applyColor(i,e){if(this.options.colorCallback){let n=this.options.colorCallback(i);if(n){if(typeof n=="object"&&n.c!==void 0){e==="fill"?this.doc.fillColorCMYK(n.c,n.m,n.y,n.k):this.doc.strokeColorCMYK(n.c,n.m,n.y,n.k);return}i=n}}if(this.options.spotColorMap&&this.options.spotColorMap[i]){let n=this.options.spotColorMap[i];e==="fill"?this.doc.fillSpotColor(n.name,n.tint||1):this.doc.strokeSpotColor(n.name,n.tint||1);return}if(this.options.useCMYK){let n=i.toLowerCase();if(n==="white"||n==="#ffffff"||n==="#fff"||n==="rgb(255,255,255)"||n==="rgb(255, 255, 255)"){e==="fill"?this.doc.fillColorCMYK(0,0,0,0):this.doc.strokeColorCMYK(0,0,0,0);return}let a=this.parseColor(i);if(a){let r=this.colorSpace.rgbToCMYK(a.r,a.g,a.b);e==="fill"?this.doc.fillColorCMYK(r.c*100,r.m*100,r.y*100,r.k*100):this.doc.strokeColorCMYK(r.c*100,r.m*100,r.y*100,r.k*100);return}}e==="fill"?this.doc.fillColor(i):this.doc.strokeColor(i)}parseColor(i){if(i.startsWith("#")){let a=i.slice(1),r=parseInt(a.substr(0,2),16)/255,o=parseInt(a.substr(2,2),16)/255,l=parseInt(a.substr(4,2),16)/255;return{r,g:o,b:l}}let e=i.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(e)return{r:parseInt(e[1])/255,g:parseInt(e[2])/255,b:parseInt(e[3])/255};let n={red:{r:1,g:0,b:0},green:{r:0,g:1,b:0},blue:{r:0,g:0,b:1},black:{r:0,g:0,b:0},white:{r:1,g:1,b:1},yellow:{r:1,g:1,b:0},cyan:{r:0,g:1,b:1},magenta:{r:1,g:0,b:1},gray:{r:.5,g:.5,b:.5},grey:{r:.5,g:.5,b:.5},orange:{r:1,g:.647,b:0},purple:{r:.5,g:0,b:.5}};return n[i.toLowerCase()]?n[i.toLowerCase()]:{r:0,g:0,b:0}}};var kt=class{constructor(){this.spotColors=new Map}rgbToCMYK(i,e,n){i=Math.max(0,Math.min(1,i)),e=Math.max(0,Math.min(1,e)),n=Math.max(0,Math.min(1,n));let a=1-Math.max(i,e,n);if(a===1)return{c:0,m:0,y:0,k:1};let r=(1-i-a)/(1-a),o=(1-e-a)/(1-a),l=(1-n-a)/(1-a);return{c:Math.max(0,Math.min(1,r)),m:Math.max(0,Math.min(1,o)),y:Math.max(0,Math.min(1,l)),k:Math.max(0,Math.min(1,a))}}defineSpotColor(i,e){return this.spotColors.set(i,{name:i,fallback:{c:e.c/100,m:e.m/100,y:e.y/100,k:e.k/100}}),this}getSpotColor(i){return this.spotColors.get(i)}isSpotColor(i){return this.spotColors.has(i)}};var ie=class{constructor(i={}){this.width=i.width||595.28,this.height=i.height||841.89,this.colorSpace=new kt,this.writer=new te,this.currentColor={type:"rgb",r:0,g:0,b:0},this.currentStrokeColor={type:"rgb",r:0,g:0,b:0},this.currentLineWidth=1,this.currentOpacity={fill:1,stroke:1},this.spotColors=new Map,this.contentStream=[],this.resources={ColorSpace:{},Pattern:{},ExtGState:{}},this._ctm=[1,0,0,1,0,0],this._ctmStack=[]}addSVG(i,e,n,a={}){return ee(this,i,e,n,a),this}_formatNumber(i){return typeof i!="number"||!isFinite(i)?(console.warn(`Invalid number in PDF: ${i}, using 0`),"0"):Number(i.toFixed(6)).toString()}moveTo(i,e){return this.contentStream.push(`${this._formatNumber(i)} ${this._formatNumber(e)} m`),this}lineTo(i,e){return this.contentStream.push(`${this._formatNumber(i)} ${this._formatNumber(e)} l`),this}bezierCurveTo(i,e,n,a,r,o){return this.contentStream.push(`${this._formatNumber(i)} ${this._formatNumber(e)} ${this._formatNumber(n)} ${this._formatNumber(a)} ${this._formatNumber(r)} ${this._formatNumber(o)} c`),this}quadraticCurveTo(i,e,n,a){let r=i,o=e,l=i,_=e;return this.bezierCurveTo(r,o,l,_,n,a)}closePath(){return this.contentStream.push("h"),this}rect(i,e,n,a){return this.contentStream.push(`${this._formatNumber(i)} ${this._formatNumber(e)} ${this._formatNumber(n)} ${this._formatNumber(a)} re`),this}circle(i,e,n){let a=.5522847498,r=n*a,o=n*a;return this.moveTo(i-n,e),this.bezierCurveTo(i-n,e+o,i-r,e+n,i,e+n),this.bezierCurveTo(i+r,e+n,i+n,e+o,i+n,e),this.bezierCurveTo(i+n,e-o,i+r,e-n,i,e-n),this.bezierCurveTo(i-r,e-n,i-n,e-o,i-n,e),this.closePath(),this}ellipse(i,e,n,a){let r=.5522847498,o=n*r,l=a*r;return this.moveTo(i-n,e),this.bezierCurveTo(i-n,e+l,i-o,e+a,i,e+a),this.bezierCurveTo(i+o,e+a,i+n,e+l,i+n,e),this.bezierCurveTo(i+n,e-l,i+o,e-a,i,e-a),this.bezierCurveTo(i-o,e-a,i-n,e-l,i-n,e),this.closePath(),this}fill(i){return this._setFillColor(),this._setFillOpacity(),this.contentStream.push(i==="evenodd"?"f*":"f"),this}stroke(){return this._setStrokeColor(),this._setStrokeOpacity(),this._setLineWidth(),this.contentStream.push("S"),this}fillAndStroke(i){return this._setFillColor(),this._setStrokeColor(),this._setFillOpacity(),this._setStrokeOpacity(),this._setLineWidth(),this.contentStream.push(i==="evenodd"?"B*":"B"),this}lineWidth(i){return this.currentLineWidth=i,this}fillOpacity(i){return this.currentOpacity.fill=i,this}strokeOpacity(i){return this.currentOpacity.stroke=i,this}opacity(i){return this.currentOpacity.fill=i,this.currentOpacity.stroke=i,this}fillColor(i,e,n){if(typeof i=="string"){let a=this._parseColor(i);this.currentColor=a}else this.currentColor={type:"rgb",r:i/255,g:e/255,b:n/255};return this}strokeColor(i,e,n){if(typeof i=="string"){let a=this._parseColor(i);this.currentStrokeColor=a}else this.currentStrokeColor={type:"rgb",r:i/255,g:e/255,b:n/255};return this}fillColorCMYK(i,e,n,a){return this.currentColor={type:"cmyk",c:i/100,m:e/100,y:n/100,k:a/100},this}strokeColorCMYK(i,e,n,a){return this.currentStrokeColor={type:"cmyk",c:i/100,m:e/100,y:n/100,k:a/100},this}defineSpotColor(i,e){let n={name:i,fallback:{c:e.c/100,m:e.m/100,y:e.y/100,k:e.k/100}};this.spotColors.set(i,n);let a=`CS${Object.keys(this.resources.ColorSpace).length+1}`;return this.resources.ColorSpace[a]={type:"Separation",name:i,alternateSpace:"DeviceCMYK",tintTransform:n.fallback},n.resourceName=a,this}defineSpotColorCMYK(i,e,n,a,r){return this.defineSpotColor(i,{c:e,m:n,y:a,k:r})}fillSpotColor(i,e=1){let n=this.spotColors.get(i);return n&&(this.currentColor={type:"spot",name:i,tint:e,spotColor:n}),this}strokeSpotColor(i,e=1){let n=this.spotColors.get(i);return n&&(this.currentStrokeColor={type:"spot",name:i,tint:e,spotColor:n}),this}save(){return this.contentStream.push("q"),this._ctmStack.push([...this._ctm]),this}restore(){return this.contentStream.push("Q"),this._ctmStack.length>0&&(this._ctm=this._ctmStack.pop()),this}translate(i,e){return this.transform(1,0,0,1,i,e),this}scale(i,e=i){return this.transform(i,0,0,e,0,0),this}rotate(i,e=0,n=0){let a=Math.cos(i),r=Math.sin(i);return e!==0||n!==0?(this.translate(e,n),this.transform(a,r,-r,a,0,0),this.translate(-e,-n)):this.transform(a,r,-r,a,0,0),this}transform(i,e,n,a,r,o){this.contentStream.push(`${this._formatNumber(i)} ${this._formatNumber(e)} ${this._formatNumber(n)} ${this._formatNumber(a)} ${this._formatNumber(r)} ${this._formatNumber(o)} cm`);let[l,_,s,h,b,c]=this._ctm;return this._ctm=[i*l+e*s,i*_+e*h,n*l+a*s,n*_+a*h,r*l+o*s+b,r*_+o*h+c],this}end(){return this.writer.generatePDF(this)}_setFillColor(){this._setColor(this.currentColor,"fill")}_setStrokeColor(){this._setColor(this.currentStrokeColor,"stroke")}_setLineWidth(){this.contentStream.push(`${this._formatNumber(this.currentLineWidth)} w`)}_setFillOpacity(){if(this.currentOpacity.fill<1){let i=this._getOpacityGState("fill",this.currentOpacity.fill);this.contentStream.push(`/${i} gs`)}}_setStrokeOpacity(){if(this.currentOpacity.stroke<1){let i=this._getOpacityGState("stroke",this.currentOpacity.stroke);this.contentStream.push(`/${i} gs`)}}_getOpacityGState(i,e){let n=`${i}_${e}`;return this.resources.ExtGState[n]||(this.resources.ExtGState[n]={[i==="fill"?"ca":"CA"]:e}),n}_setColor(i,e){switch(i.type){case"rgb":this.contentStream.push(`${this._formatNumber(i.r)} ${this._formatNumber(i.g)} ${this._formatNumber(i.b)} ${e==="fill"?"rg":"RG"}`);break;case"cmyk":this.contentStream.push(`${this._formatNumber(i.c)} ${this._formatNumber(i.m)} ${this._formatNumber(i.y)} ${this._formatNumber(i.k)} ${e==="fill"?"k":"K"}`);break;case"spot":let n=i.spotColor.resourceName;this.contentStream.push(`/${n} ${e==="fill"?"cs":"CS"}`,`${this._formatNumber(i.tint)} ${e==="fill"?"scn":"SCN"}`);break}}_parseColor(i){if(i.startsWith("#")){let a=i.slice(1),r=parseInt(a.substr(0,2),16)/255,o=parseInt(a.substr(2,2),16)/255,l=parseInt(a.substr(4,2),16)/255;return{type:"rgb",r,g:o,b:l}}let e=i.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(e)return{type:"rgb",r:parseInt(e[1])/255,g:parseInt(e[2])/255,b:parseInt(e[3])/255};let n={red:{r:1,g:0,b:0},green:{r:0,g:1,b:0},blue:{r:0,g:0,b:1},black:{r:0,g:0,b:0},white:{r:1,g:1,b:1},yellow:{r:1,g:1,b:0},cyan:{r:0,g:1,b:1},magenta:{r:1,g:0,b:1}};return n[i]?Yt({type:"rgb"},n[i]):{type:"rgb",r:0,g:0,b:0}}};return pn(_o);})();
/*! Bundled license information:

pako/dist/pako.esm.mjs:
  (*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) *)
*/
